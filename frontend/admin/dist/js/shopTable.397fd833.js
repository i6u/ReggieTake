(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shopTable"],{"034a":function(t,e,a){"use strict";a("cf87")},"09ba":function(t,e,a){"use strict";a("4eb5")},"0a62":function(t,e,a){"use strict";a("9280")},1319:function(t,e,a){"use strict";a("8f71")},1683:function(t,e,a){"use strict";a("2f10")},"19e6":function(t,e,a){t.exports=a.p+"img/noImg.89ccbe0c.png"},"20d6":function(t,e,a){"use strict";var n=a("5ca1"),r=a("0a49")(6),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),n(n.P+n.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(i)},2235:function(t,e,a){t.exports=a.p+"img/search_table_empty.e769fc3e.png"},2723:function(t,e,a){"use strict";a("2f6e")},"28a5":function(t,e,a){"use strict";var n=a("aae3"),r=a("cb7c"),i=a("ebd6"),s=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),d=Math.min,f=[].push,p="split",h="length",b="lastIndex",_=4294967295,m=!u((function(){RegExp(_,"y")}));a("214f")("split",2,(function(t,e,a,u){var v;return v="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(r,t,e);var i,s,o,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?_:e>>>0,m=new RegExp(t.source,u+"g");while(i=l.call(m,r)){if(s=m[b],s>d&&(c.push(r.slice(d,i.index)),i[h]>1&&i.index<r[h]&&f.apply(c,i.slice(1)),o=i[0][h],d=s,c[h]>=p))break;m[b]===i.index&&m[b]++}return d===r[h]?!o&&m.test("")||c.push(""):c.push(r.slice(d)),c[h]>p?c.slice(0,p):c}:"0"[p](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var r=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,n):v.call(String(r),a,n)},function(t,e){var n=u(v,t,this,e,v!==a);if(n.done)return n.value;var l=r(t),f=String(this),p=i(l,RegExp),h=l.unicode,b=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),g=new p(m?l:"^(?:"+l.source+")",b),y=void 0===e?_:e>>>0;if(0===y)return[];if(0===f.length)return null===c(g,f)?[f]:[];var O=0,k=0,j=[];while(k<f.length){g.lastIndex=m?k:0;var C,x=c(g,m?f:f.slice(k));if(null===x||(C=d(o(g.lastIndex+(m?0:k)),f.length))===O)k=s(f,k,h);else{if(j.push(f.slice(O,k)),j.length===y)return j;for(var w=1;w<=x.length-1;w++)if(j.push(x[w]),j.length===y)return j;k=O=C}}return j.push(f.slice(O)),j}]}))},"2e08":function(t,e,a){var n=a("9def"),r=a("9744"),i=a("be13");t.exports=function(t,e,a,s){var o=String(i(t)),c=o.length,l=void 0===a?" ":String(a),u=n(e);if(u<=c||""==l)return o;var d=u-c,f=r.call(l,Math.ceil(d/l.length));return f.length>d&&(f=f.slice(0,d)),s?f+o:o+f}},"2f10":function(t,e,a){},"2f21":function(t,e,a){"use strict";var n=a("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"2f6e":function(t,e,a){},"2fdb":function(t,e,a){"use strict";var n=a("5ca1"),r=a("d2c8"),i="includes";n(n.P+n.F*a("5147")(i),"String",{includes:function(t){return!!~r(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"375a":function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},3821:function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"38b8":function(t,e,a){"use strict";a.d(e,"g",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"f",(function(){return f})),a.d(e,"i",(function(){return p})),a.d(e,"d",(function(){return h})),a.d(e,"c",(function(){return b}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),r=a("b32d");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var o=function(t){return Object(r["a"])({url:"/dish/page",method:"get",params:t})},c=function(t){return Object(r["a"])({url:"/dish",method:"delete",params:{ids:t}})},l=function(t){return Object(r["a"])({url:"/dish",method:"put",data:s({},t)})},u=function(t){return Object(r["a"])({url:"/dish",method:"post",data:s({},t)})},d=function(t){return Object(r["a"])({url:"/dish/".concat(t),method:"get"})},f=function(t){return Object(r["a"])({url:"/category/list",method:"get",params:t})},p=function(t){return Object(r["a"])({url:"/dish/list",method:"get",params:t})},h=function(t){return Object(r["a"])({url:"/dish/status/".concat(t.status),method:"post",params:{id:t.id}})},b=function(t){return Object(r["a"])({url:"/category/list",method:"get",params:s({},t)})}},"38b8f":function(t,e,a){t.exports=a.p+"img/table_empty.885371bc.png"},"3b2b":function(t,e,a){var n=a("7726"),r=a("5dbc"),i=a("86cc").f,s=a("9093").f,o=a("aae3"),c=a("0bfb"),l=n.RegExp,u=l,d=l.prototype,f=/a/g,p=/a/g,h=new l(f)!==f;if(a("9e1e")&&(!h||a("79e5")((function(){return p[a("2b4c")("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")})))){l=function(t,e){var a=this instanceof l,n=o(t),i=void 0===e;return!a&&n&&t.constructor===l&&i?t:r(h?new u(n&&!i?t.source:t,e):u((n=t instanceof l)?t.source:t,n&&i?c.call(t):e),a?this:d,l)};for(var b=function(t){t in l||i(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},_=s(u),m=0;_.length>m;)b(_[m++]);d.constructor=l,l.prototype=d,a("2aba")(n,"RegExp",l)}a("7a56")("RegExp")},"3fba":function(t,e,a){},"406e":function(t,e,a){"use strict";a("375a")},4175:function(t,e,a){"use strict";a("a964")},"420c":function(t,e,a){"use strict";a("d36c")},"47cd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"container"},[e("div",{staticClass:"tableBar"},[e("label",{staticStyle:{"margin-right":"10px"}},[t._v("套餐名称：")]),e("el-input",{staticStyle:{width:"14%"},attrs:{placeholder:"请填写套餐名称",clearable:""},on:{clear:t.init},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initFun.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),e("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[t._v("套餐分类：")]),e("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"请选择",clearable:""},on:{clear:t.init},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.dishCategoryList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[t._v("售卖状态：")]),e("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"请选择",clearable:""},on:{clear:t.init},model:{value:t.dishStatus,callback:function(e){t.dishStatus=e},expression:"dishStatus"}},t._l(t.saleStatus,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{staticClass:"normal-btn continue",on:{click:function(e){return t.init(!0)}}},[t._v("\n        查询\n      ")]),e("div",{staticClass:"tableLab"},[e("span",{staticClass:"delBut non",on:{click:function(e){return t.deleteHandle("批量")}}},[t._v("批量删除")]),e("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(e){return t.addSetMeal("add")}}},[t._v("\n          + 新建套餐\n        ")])],1)],1),t.tableData.length?e("el-table",{staticClass:"tableBox",attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"25"}}),e("el-table-column",{attrs:{prop:"name",label:"套餐名称"}}),e("el-table-column",{attrs:{prop:"image",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){var n=t.row;return[e("el-image",{staticStyle:{width:"80px",height:"40px",border:"none",cursor:"pointer"},attrs:{src:n.image}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticStyle:{width:"auto",height:"40px",border:"none"},attrs:{src:a("19e6")}})])])]}}],null,!1,3986313203)}),e("el-table-column",{attrs:{prop:"categoryName",label:"套餐分类"}}),e("el-table-column",{attrs:{prop:"price",label:"套餐价"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v("￥"+t._s(100*a.row.price.toFixed(2)/100))])]}}],null,!1,233187056)}),e("el-table-column",{attrs:{label:"售卖状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(a.row.status)}},[t._v("\n            "+t._s("0"===String(a.row.status)?"停售":"启售")+"\n          ")])]}}],null,!1,3246160962)}),e("el-table-column",{attrs:{prop:"updateTime",label:"最后操作时间"}}),e("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"blueBug",attrs:{type:"text",size:"small"},on:{click:function(e){return t.addSetMeal(a.row)}}},[t._v("\n            修改\n          ")]),e("el-button",{staticClass:"delBut",attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteHandle("单删",a.row.id)}}},[t._v("\n            删除\n          ")]),e("el-button",{staticClass:"blueBug non",class:{blueBug:"0"==a.row.status,delBut:"0"!=a.row.status},attrs:{type:"text",size:"small"},on:{click:function(e){return t.statusHandle(a.row)}}},[t._v("\n            "+t._s("0"==a.row.status?"启售":"停售")+"\n          ")])]}}],null,!1,3735618053)})],1):e("Empty",{attrs:{"is-search":t.isSearch}}),t.counts>10?e("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)])},r=[],i=(a("2397"),a("ac6a"),a("7f7f"),a("c5f6"),a("96cf"),a("3b8d")),s=a("d225"),o=a("b0b4"),c=a("4e2b"),l=a("308d"),u=a("6bb5"),d=a("9ab4"),f=a("60a3"),p=a("d666"),h=a("b8ec"),b=a("4be2"),_=a("fab1");function m(t){var e=v();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var g=function(t){Object(c["a"])(a,t);var e=m(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.input="",t.counts=0,t.page=1,t.pageSize=10,t.checkList=[],t.tableData=[],t.dishCategoryList=[],t.categoryId="",t.dishStatus="",t.isSearch=!1,t.saleStatus=[{value:0,label:"停售"},{value:1,label:"启售"}],t}return Object(o["a"])(a,[{key:"created",value:function(){this.init(),this.getDishCategoryList()}},{key:"initProp",value:function(t){this.input=t,this.initFun()}},{key:"initFun",value:function(){this.page=1,this.init()}},{key:"init",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isSearch=e,t.next=3,Object(h["e"])({page:this.page,pageSize:this.pageSize,name:this.input||void 0,categoryId:this.categoryId||void 0,status:this.dishStatus}).then((function(t){t&&t.data&&1===t.data.code?(a.tableData=t.data.data.records,a.counts=Number(t.data.data.total)):a.$message.error(t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addSetMeal",value:function(t){"add"===t?this.$router.push({path:"/setmeal/add"}):this.$router.push({path:"/setmeal/add",query:{id:t.id}})}},{key:"deleteHandle",value:function(t,e){var a=this;if("批量"===t&&null===e&&0===this.checkList.length)return this.$message.error("请选择删除对象");this.$confirm("确定删除该套餐?","确定删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["b"])("批量"===t?a.checkList.join(","):e).then((function(t){1===t.data.code?(a.$message.success("删除成功！"),a.init()):a.$message.error(t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)}))}))}},{key:"statusHandle",value:function(t){var e=this,a={};if("string"===typeof t){if(0==this.checkList.length)return this.$message.error("批量操作，请先勾选操作菜品！"),!1;a.ids=this.checkList.join(","),a.status=t}else a.ids=t.id,a.status=t.status?"0":"1";this.$confirm("确认更改该套餐状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["g"])(a).then((function(t){1===t.data.code?(e.$message.success("套餐状态已经更改成功！"),e.init()):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}))}},{key:"getDishCategoryList",value:function(){var t=this;Object(h["c"])({type:2}).then((function(e){e&&e.data&&1===e.data.code&&(t.dishCategoryList=(e.data&&e.data.data&&e.data.data).map((function(t){return{value:t.id,label:t.name}})))})).catch((function(){}))}},{key:"handleSelectionChange",value:function(t){var e=[];t.forEach((function(t){e.push(t.id)})),this.checkList=e}},{key:"handleSizeChange",value:function(t){this.pageSize=t,this.init()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.init()}}]),a}(f["c"]);g=Object(d["a"])([Object(f["a"])({name:"package",components:{HeadLable:p["a"],InputAutoComplete:b["a"],Empty:_["a"]}})],g);var y=g,O=y,k=(a("83af"),a("95b9"),a("2877")),j=Object(k["a"])(O,n,r,!1,null,"eba14884",null);e["default"]=j.exports},"4be2":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"input-auto-complete"},[e("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:t.placeholder,clearable:""},on:{clear:t.init},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.init.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[e("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{cursor:"pointer"},attrs:{slot:"prefix"},on:{click:t.init},slot:"prefix"})])],1)},r=[],i=(a("2397"),a("d225")),s=a("b0b4"),o=a("4e2b"),c=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3");function f(t){var e=p();return function(){var a,n=Object(l["a"])(t);if(e){var r=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c["a"])(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){Object(o["a"])(a,t);var e=f(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.input="",t}return Object(s["a"])(a,[{key:"init",value:function(){this.$emit("init",this.input)}}]),a}(d["c"]);Object(u["a"])([Object(d["b"])({default:[]})],h.prototype,"data",void 0),Object(u["a"])([Object(d["b"])({default:""})],h.prototype,"placeholder",void 0),Object(u["a"])([Object(d["b"])({default:"name"})],h.prototype,"ObKey",void 0),h=Object(u["a"])([Object(d["a"])({name:"InputAutoComplete"})],h);var b=h,_=b,m=(a("99bc"),a("2877")),v=Object(m["a"])(_,n,r,!1,null,"41cb16b0",null);e["a"]=v.exports},"4eb5":function(t,e,a){},"4f28":function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"4f7f":function(t,e,a){"use strict";var n=a("c26b"),r=a("b39a"),i="Set";t.exports=a("e0b8")(i,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(r(this,i),t=0===t?0:t,t)}},n)},5083:function(t,e,a){"use strict";a("e10a")},"51ee":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_reflect_construct__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2397"),core_js_modules_es6_reflect_construct__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_reflect_construct__WEBPACK_IMPORTED_MODULE_2__),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bd86"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("3b8d"),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("d225"),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("b0b4"),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("4e2b"),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("308d"),_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("6bb5"),tslib__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("60a3"),_components_Empty_index_vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("fab1"),_store_modules_app__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("ac1a"),_api_inform__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("f43d");function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach((function(e){Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var a,n=Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_12__["a"])(t);if(e){var r=Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_12__["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_11__["a"])(this,a)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var default_1=function(_Vue){Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_10__["a"])(default_1,_Vue);var _super=_createSuper(default_1);function default_1(){var t;return Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_8__["a"])(this,default_1),t=_super.apply(this,arguments),t.activeIndex=0,t.shopShow=!1,t.counts=0,t.page=1,t.pageSize=10,t.status=1,t.baseData=[],t.showIndex=0,t.isSearch=!1,t.isActive=!1,t}return Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_9__["a"])(default_1,[{key:"tabList",get:function(){return[{label:"未读",value:1},{label:"已读",value:2}]}},{key:"ountUnread",get:function(){return _store_modules_app__WEBPACK_IMPORTED_MODULE_16__["a"].statusNumber}},{key:"created",value:function(){this.getData()}},{key:"getData",value:function(){var _getData=Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark((function _callee(){var parent,_yield$getInformData,data,objNew,arrDetails;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return parent={pageNum:this.page,pageSize:this.pageSize,status:this.status},_context.next=3,Object(_api_inform__WEBPACK_IMPORTED_MODULE_17__["c"])(parent);case 3:_yield$getInformData=_context.sent,data=_yield$getInformData.data,1===data.code?(this.baseData=data.data.records,this.counts=data.data.total,objNew={},arrDetails=[],this.baseData.forEach((function(val){var arrContent=val.content.split(" ");val.arrNew=arrContent,objNew=_objectSpread({},val),objNew.details=eval("("+objNew.details+")"),arrDetails.push(objNew)})),this.baseData=arrDetails):this.$message.error(data.msg);case 6:case"end":return _context.stop()}}),_callee,this)})));function getData(){return _getData.apply(this,arguments)}return getData}()},{key:"handleBatch",value:function(){var t=Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],this.baseData.forEach((function(t){e.push(t.id)})),t.next=4,Object(_api_inform__WEBPACK_IMPORTED_MODULE_17__["a"])(e);case 4:a=t.sent,n=a.data,1===n.code?(this.getCountUnread(),this.getData()):this.$message.error(n.msg);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleSetStatus",value:function(){var t=Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_api_inform__WEBPACK_IMPORTED_MODULE_17__["d"])(e);case 2:a=t.sent,n=a.data,1===n.code?this.isActive||(this.getCountUnread(),this.getData()):this.$message.error(n.msg);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getCountUnread",value:function(){var t=Object(_Users_witt_repo_wind_ReggieTake_frontend_admin_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_api_inform__WEBPACK_IMPORTED_MODULE_17__["b"])();case 2:e=t.sent,a=e.data,1===a.code?_store_modules_app__WEBPACK_IMPORTED_MODULE_16__["a"].StatusNumber(a.data):this.$message.error(a.msg);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleClass",value:function(t){this.activeIndex=t,this.status=0===t?1:2,this.getData()}},{key:"toggleShow",value:function(t,e){var a=this;this.shopShow=!0,this.showIndex=e;var n=3,r=setInterval((function(){n--,0===n&&(1===a.status&&(a.isActive=!0,a.handleSetStatus(t)),clearInterval(r))}),1e3)}},{key:"mouseLeaves",value:function(t){this.shopShow=!1,this.showIndex=t}},{key:"handleSizeChange",value:function(t){this.pageSize=t,this.getData()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.getData()}}]),default_1}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_14__["c"]);default_1=Object(tslib__WEBPACK_IMPORTED_MODULE_13__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_14__["a"])({name:"Inform",components:{Empty:_components_Empty_index_vue__WEBPACK_IMPORTED_MODULE_15__["a"]}})],default_1),__webpack_exports__["a"]=default_1},5303:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"container"},[e("div",{staticClass:"tableBar"},[e("label",{staticStyle:{"margin-right":"5px"}},[t._v("员工姓名：")]),e("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请输入员工姓名",clearable:""},on:{clear:t.init},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initFun.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),e("el-button",{staticClass:"normal-btn continue",on:{click:function(e){return t.init(!0)}}},[t._v("查询")]),e("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.addEmployeeHandle("add")}}},[t._v("\n        + 添加员工\n      ")])],1),t.tableData.length?e("el-table",{staticClass:"tableBox",attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"员工姓名"}}),e("el-table-column",{attrs:{prop:"username",label:"账号"}}),e("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),e("el-table-column",{attrs:{label:"账号状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(a.row.status)}},[t._v("\n            "+t._s("0"===String(a.row.status)?"禁用":"启用")+"\n          ")])]}}],null,!1,1902337151)}),e("el-table-column",{attrs:{prop:"updateTime",label:"最后操作时间"}}),e("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"blueBug",class:{"disabled-text":"admin"===a.row.username},attrs:{type:"text",size:"small",disabled:"admin"===a.row.username},on:{click:function(e){return t.addEmployeeHandle(a.row.id,a.row.username)}}},[t._v("\n            修改\n          ")]),e("el-button",{staticClass:"non",class:{"disabled-text":"admin"===a.row.username,blueBug:"0"==a.row.status,delBut:"0"!=a.row.status},attrs:{disabled:"admin"===a.row.username,type:"text",size:"small"},on:{click:function(e){return t.statusHandle(a.row)}}},[t._v("\n            "+t._s("1"==a.row.status?"禁用":"启用")+"\n          ")])]}}],null,!1,517157983)})],1):e("Empty",{attrs:{"is-search":t.isSearch}}),e("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},r=[],i=(a("2397"),a("96cf"),a("3b8d")),s=a("d225"),o=a("b0b4"),c=a("4e2b"),l=a("308d"),u=a("6bb5"),d=a("9ab4"),f=a("60a3"),p=a("d666"),h=a("63f6"),b=a("9dba"),_=a("4be2"),m=a("fab1");function v(t){var e=g();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var y=function(t){Object(c["a"])(a,t);var e=v(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.input="",t.counts=0,t.page=1,t.pageSize=10,t.tableData=[],t.id="",t.status="",t.isSearch=!1,t}return Object(o["a"])(a,[{key:"created",value:function(){this.init()}},{key:"initProp",value:function(t){this.input=t,this.initFun()}},{key:"initFun",value:function(){this.page=1,this.init()}},{key:"userName",get:function(){return b["a"].username}},{key:"init",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isSearch=e,a={page:this.page,pageSize:this.pageSize,name:this.input?this.input:void 0},t.next=4,Object(h["d"])(a).then((function(t){"1"===String(t.data.code)&&(n.tableData=t.data&&t.data.data&&t.data.data.records,n.counts=t.data.data.total)})).catch((function(t){n.$message.error("请求出错了："+t.message)}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addEmployeeHandle",value:function(t,e){if("add"===t)this.$router.push({path:"/employee/add"});else{if("admin"===e)return;this.$router.push({path:"/employee/add",query:{id:t}})}}},{key:"statusHandle",value:function(t){var e=this;"admin"!==t.username&&(this.id=t.id,this.status=t.status,this.$confirm("确认调整该账号的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["c"])({id:e.id,status:e.status?0:1}).then((function(t){"200"===String(t.status)&&(e.$message.success("账号状态更改成功！"),e.init())})).catch((function(t){e.$message.error("请求出错了："+t.message)}))})))}},{key:"handleSizeChange",value:function(t){this.pageSize=t,this.init()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.init()}}]),a}(f["c"]);y=Object(d["a"])([Object(f["a"])({name:"Employee",components:{HeadLable:p["a"],InputAutoComplete:_["a"],Empty:m["a"]}})],y);var O=y,k=O,j=(a("e10f"),a("2877")),C=Object(j["a"])(k,n,r,!1,null,"7f22152c",null);e["default"]=C.exports},"55dd":function(t,e,a){"use strict";var n=a("5ca1"),r=a("d8e8"),i=a("4bf8"),s=a("79e5"),o=[].sort,c=[1,2,3];n(n.P+n.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!a("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(i(this)):o.call(i(this),r(t))}})},"560a":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"e",(function(){return f})),a.d(e,"g",(function(){return p})),a.d(e,"d",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),r=a("b32d");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var o=function(t){return Object(r["a"])({url:"/order/conditionSearch",method:"get",params:t})},c=function(t){return Object(r["a"])({url:"/order/details/".concat(t.orderId),method:"get"})},l=function(t){return Object(r["a"])({url:"/order/delivery/".concat(t.id),method:"put"})},u=function(t){return Object(r["a"])({url:"/order/complete/".concat(t.id),method:"put"})},d=function(t){return Object(r["a"])({url:"/order/cancel",method:"put",data:s({},t)})},f=function(t){return Object(r["a"])({url:"/order/confirm",method:"put",data:s({},t)})},p=function(t){return Object(r["a"])({url:"/order/rejection",method:"put",data:s({},t)})},h=function(t){return Object(r["a"])({url:"/order/statistics",method:"get"})}},"5aa9":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"upload-item"},[e("el-upload",{ref:"uploadfiles",staticClass:"avatar-uploader",class:{borderNone:t.imageUrl},attrs:{accept:t.type,action:"/api/common/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-remove":t.handleRemove,"on-error":t.handleError,"before-upload":t.beforeAvatarUpload,headers:t.headers}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.imageUrl?e("span",{staticClass:"el-upload-list__item-actions"},[e("span",{staticClass:"el-upload-span",on:{click:function(e){return e.stopPropagation(),t.oploadImgDel.apply(null,arguments)}}},[t._v("\n        删除图片\n      ")]),e("span",{staticClass:"el-upload-span"},[t._v(" 重新上传 ")])]):t._e()]),e("p",{staticClass:"upload-tips"},[t._t("default")],2)],1)},r=[],i=(a("2397"),a("d225")),s=a("b0b4"),o=a("4e2b"),c=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3"),f=a("5581");function p(t){var e=h();return function(){var a,n=Object(l["a"])(t);if(e){var r=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c["a"])(this,a)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var b=function(t){Object(o["a"])(a,t);var e=p(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.headers={token:Object(f["b"])()},t.imageUrl="",t}return Object(s["a"])(a,[{key:"handleRemove",value:function(){}},{key:"onChange",value:function(t){this.imageUrl=t}},{key:"handleError",value:function(t,e,a){console.log(t,e,a,"handleError"),this.$message({message:"图片上传失败",type:"error"})}},{key:"handleAvatarSuccess",value:function(t,e,a){this.imageUrl="".concat(t.data),this.$emit("imageChange",this.imageUrl)}},{key:"oploadImgDel",value:function(){this.imageUrl="",this.$emit("imageChange",this.imageUrl)}},{key:"beforeAvatarUpload",value:function(t){var e=t.size/1024/1024<this.size;if(!e)return this.$message({message:"上传文件大小不能超过".concat(this.size,"M!"),type:"error"}),!1}}]),a}(d["c"]);Object(u["a"])([Object(d["b"])({default:".jpg,.jpeg,.png"})],b.prototype,"type",void 0),Object(u["a"])([Object(d["b"])({default:2})],b.prototype,"size",void 0),Object(u["a"])([Object(d["b"])({default:""})],b.prototype,"propImageUrl",void 0),Object(u["a"])([Object(d["d"])("propImageUrl")],b.prototype,"onChange",null),b=Object(u["a"])([Object(d["a"])({name:"UploadImage"})],b);var _=b,m=_,v=(a("5083"),a("0a62"),a("2877")),g=Object(v["a"])(m,n,r,!1,null,"3a78313f",null);e["a"]=g.exports},"5d0c":function(t,e,a){},"5dbc":function(t,e,a){var n=a("d3f4"),r=a("8b97").set;t.exports=function(t,e,a){var i,s=e.constructor;return s!==a&&"function"==typeof s&&(i=s.prototype)!==a.prototype&&n(i)&&r&&r(t,i),t}},6182:function(t,e,a){"use strict";a.r(e);a("c5f6"),a("7f7f");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"addBrand-container"},[e("div",{staticClass:"container"},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,inline:!0,"label-width":"180px"}},[e("div",[e("el-form-item",{attrs:{label:"套餐名称:",prop:"name"}},[e("el-input",{attrs:{placeholder:"请填写套餐名称",maxlength:"14"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),e("el-form-item",{attrs:{label:"套餐分类:",prop:"idType"}},[e("el-select",{attrs:{placeholder:"请选择套餐分类"},on:{change:function(e){return t.$forceUpdate()}},model:{value:t.ruleForm.idType,callback:function(e){t.$set(t.ruleForm,"idType",e)},expression:"ruleForm.idType"}},t._l(t.setMealList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})})),1)],1)],1),e("div",[e("el-form-item",{attrs:{label:"套餐价格:",prop:"price"}},[e("el-input",{attrs:{placeholder:"请设置套餐价格"},model:{value:t.ruleForm.price,callback:function(e){t.$set(t.ruleForm,"price",e)},expression:"ruleForm.price"}})],1)],1),e("div",[e("el-form-item",{attrs:{label:"套餐菜品:",required:""}},[e("el-form-item",[e("div",{staticClass:"addDish"},[0==t.dishTable.length?e("span",{staticClass:"addBut",on:{click:function(e){return t.openAddDish("new")}}},[t._v("\n                + 添加菜品")]):t._e(),0!=t.dishTable.length?e("div",{staticClass:"content"},[e("div",{staticClass:"addBut",staticStyle:{"margin-bottom":"20px"},on:{click:function(e){return t.openAddDish("change")}}},[t._v("\n                  + 添加菜品\n                ")]),e("div",{staticClass:"table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dishTable}},[e("el-table-column",{attrs:{prop:"name",label:"名称",width:"180",align:"center"}}),e("el-table-column",{attrs:{prop:"price",label:"原价",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(100*Number(e.row.price).toFixed(2)/100)+"\n                      ")]}}],null,!1,1338860262)}),e("el-table-column",{attrs:{prop:"address",label:"份数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input-number",{attrs:{size:"small",min:1,max:99,label:"描述文字"},model:{value:a.row.copies,callback:function(e){t.$set(a.row,"copies",e)},expression:"scope.row.copies"}})]}}],null,!1,1483850948)}),e("el-table-column",{attrs:{prop:"address",label:"操作",width:"180px;",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"delBut non",attrs:{type:"text",size:"small"},on:{click:function(e){return t.delDishHandle(a.$index)}}},[t._v("\n                          删除\n                        ")])]}}],null,!1,1018689913)})],1)],1)]):t._e()])])],1)],1),e("div",[e("el-form-item",{attrs:{label:"套餐图片:",required:"",prop:"image"}},[e("image-upload",{attrs:{"prop-image-url":t.imageUrl},on:{imageChange:t.imageChange}},[t._v("\n            图片大小不超过2M"),e("br"),t._v("仅能上传 PNG JPEG JPG类型图片"),e("br"),t._v("建议上传200*200或300*300尺寸的图片\n          ")])],1)],1),e("div",{staticClass:"address"},[e("el-form-item",{attrs:{label:"套餐描述:"}},[e("el-input",{attrs:{type:"textarea",rows:3,maxlength:"200",placeholder:"套餐描述，最长200字"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1)],1),e("div",{staticClass:"subBox address"},[e("el-form-item",[e("el-button",{on:{click:function(){return t.$router.back()}}},[t._v("\n            取消\n          ")]),e("el-button",{class:{continue:"add"===t.actionType},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm",!1)}}},[t._v("\n            保存\n          ")]),"add"==t.actionType?e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm",!0)}}},[t._v("\n            保存并继续添加\n          ")]):t._e()],1)],1)])],1),t.dialogVisible?e("el-dialog",{staticClass:"addDishList",attrs:{title:"添加菜品",visible:t.dialogVisible,width:"60%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-input",{staticClass:"seachDish",staticStyle:{width:"293px",height:"40px"},attrs:{placeholder:"请输入菜品名称进行搜索",size:"small",clearable:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{cursor:"pointer"},attrs:{slot:"prefix"},on:{click:t.seachHandle},slot:"prefix"})]),t.dialogVisible?e("AddDish",{ref:"adddish",attrs:{"check-list":t.checkList,"seach-key":t.seachKey,"dish-list":t.dishList},on:{checkList:t.getCheckList}}):t._e(),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addTableList}},[t._v("添 加")])],1)],1):t._e()],1)},r=[],i=(a("8e6e"),a("456d"),a("2397"),a("ac6a"),a("75fc")),s=a("bd86"),o=(a("96cf"),a("3b8d")),c=a("d225"),l=a("b0b4"),u=a("4e2b"),d=a("308d"),f=a("6bb5"),p=a("9ab4"),h=a("60a3"),b=a("d666"),_=a("5aa9"),m=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"addDish"},[e("div",{staticClass:"leftCont"},[e("div",{directives:[{name:"show",rawName:"v-show",value:""==t.seachKey.trim(),expression:"seachKey.trim() == ''"}],staticClass:"tabBut"},t._l(t.dishType,(function(a,n){return e("span",{key:n,class:{act:n==t.keyInd},on:{click:function(e){return t.checkTypeHandle(n,a.id)}}},[t._v(t._s(a.name))])})),0),e("div",{staticClass:"tabList"},[e("div",{staticClass:"table",class:{borderNone:!t.dishList.length}},[0==t.dishList.length?e("div",{staticStyle:{"padding-left":"10px"}},[e("Empty")],1):t._e(),t.dishList.length>0?e("el-checkbox-group",{on:{change:t.checkedListHandle},model:{value:t.checkedList,callback:function(e){t.checkedList=e},expression:"checkedList"}},t._l(t.dishList,(function(a,n){return e("div",{key:a.name+a.id,staticClass:"items"},[e("el-checkbox",{key:n,attrs:{label:a.name}},[e("div",{staticClass:"item"},[e("span",{staticStyle:{flex:"3","text-align":"left"}},[t._v(t._s(a.dishName))]),e("span",[t._v(t._s(0==a.status?"停售":"在售"))]),e("span",[t._v(t._s(100*Number(a.price).toFixed(2)/100))])])])],1)})),0):t._e()],1)])]),e("div",{staticClass:"ritCont"},[e("div",{staticClass:"tit"},[t._v("\n      已选菜品("+t._s(t.checkedListAll.length)+")\n    ")]),e("div",{staticClass:"items"},t._l(t.checkedListAll,(function(n,r){return e("div",{key:r,staticClass:"item"},[e("span",[t._v(t._s(n.dishName||n.name))]),e("span",{staticClass:"price"},[t._v("￥ "+t._s(100*Number(n.price).toFixed(2)/100)+" ")]),e("span",{staticClass:"del",on:{click:function(e){return t.delCheck(n.name)}}},[e("img",{attrs:{src:a("dc90"),alt:""}})])])})),0)])])},v=[],g=(a("20d6"),a("5df3"),a("4f7f"),a("38b8")),y=a("fab1");function O(t){var e=k();return function(){var a,n=Object(f["a"])(t);if(e){var r=Object(f["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d["a"])(this,a)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var j=function(t){Object(u["a"])(a,t);var e=O(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.dishType=[],t.dishList=[],t.allDishList=[],t.dishListCache=[],t.keyInd=0,t.searchValue="",t.checkedList=[],t.checkedListAll=[],t.ids=new Set,t}return Object(l["a"])(a,[{key:"created",value:function(){this.init()}},{key:"seachKeyChange",value:function(t){t.trim()&&this.getDishForName(this.seachKey)}},{key:"init",value:function(){this.getDishType(),this.checkedList=this.checkList.map((function(t){return t.name})),this.checkedListAll=this.checkList.reverse()}},{key:"getDishType",value:function(){var t=this;Object(g["f"])({type:1}).then((function(e){e&&e.data&&1===e.data.code?(t.dishType=e.data.data,t.getDishList(e.data.data[0].id)):t.$message.error(e.data.msg)}))}},{key:"getDishList",value:function(t){var e=this;Object(g["i"])({categoryId:t}).then((function(a){if(a&&a.data&&1===a.data.code){if(0==a.data.data.length)return void(e.dishList=[]);var n=a.data.data;n.forEach((function(t){t.dishId=t.id,t.copies=1,t.dishName=t.name})),e.dishList=n,e.ids.has(t)||(e.allDishList=[].concat(Object(i["a"])(e.allDishList),Object(i["a"])(n))),e.ids.add(t)}else e.$message.error(a.data.msg)}))}},{key:"getDishForName",value:function(t){var e=this;Object(g["i"])({name:t}).then((function(t){if(t&&t.data&&1===t.data.code){var a=t.data.data;a.forEach((function(t){t.dishId=t.id,t.dishName=t.name})),e.dishList=a}else e.$message.error(t.data.msg)}))}},{key:"checkTypeHandle",value:function(t,e){this.keyInd=t,this.getDishList(e)}},{key:"checkedListHandle",value:function(t){this.checkedListAll.reverse();var e=this.allDishList.filter((function(e){var a;return t.forEach((function(t){e.name==t&&(a=e)})),a})),a=[].concat(Object(i["a"])(this.checkedListAll),Object(i["a"])(e)),n=[];this.checkedListAll=a.filter((function(t){var e;if(0==n.length)n.push(t.name),e=t;else{var a=n.some((function(e){return t.name==e}));a||(n.push(t.name),e=t)}return e})),t.length<n.length&&(this.checkedListAll=this.checkedListAll.filter((function(e){if(t.some((function(t){return t==e.name})))return e}))),this.$emit("checkList",this.checkedListAll),this.checkedListAll.reverse()}},{key:"open",value:function(t){this.dishListCache=JSON.parse(JSON.stringify(this.checkList))}},{key:"close",value:function(t){this.checkList=this.dishListCache}},{key:"delCheck",value:function(t){var e=this.checkedList.findIndex((function(e){return e===t})),a=this.checkedListAll.findIndex((function(e){return e.name===t}));this.checkedList.splice(e,1),this.checkedListAll.splice(a,1),this.$emit("checkList",this.checkedListAll)}}]),a}(h["c"]);Object(p["a"])([Object(h["b"])({default:""})],j.prototype,"value",void 0),Object(p["a"])([Object(h["b"])({default:[]})],j.prototype,"checkList",void 0),Object(p["a"])([Object(h["b"])({default:""})],j.prototype,"seachKey",void 0),Object(p["a"])([Object(h["d"])("seachKey")],j.prototype,"seachKeyChange",null),j=Object(p["a"])([Object(h["a"])({name:"selectInput",components:{Empty:y["a"]}})],j);var C=j,x=C,w=(a("8297"),a("dc42"),a("2877")),D=Object(w["a"])(x,m,v,!1,null,"29e2214d",null),S=D.exports,E=a("b8ec");function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function R(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function L(t){var e=P();return function(){var a,n=Object(f["a"])(t);if(e){var r=Object(f["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d["a"])(this,a)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var F=function(t){Object(u["a"])(a,t);var e=L(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.value="",t.setMealList=[],t.seachKey="",t.dishList=[],t.imageUrl="",t.actionType="",t.dishTable=[],t.dialogVisible=!1,t.checkList=[],t.ruleForm={name:"",categoryId:"",price:"",code:"",image:"",description:"",dishList:[],status:!0,idType:""},t}return Object(l["a"])(a,[{key:"rules",get:function(){return{name:{required:!0,validator:function(t,e,a){if(e){var n=/^([A-Za-z0-9\u4e00-\u9fa5]){2,20}$/;n.test(e)?a():a(new Error("套餐名称输入不符，请输入2-20个字符"))}else a(new Error("请输入套餐名称"))},trigger:"blur"},idType:{required:!0,message:"请选择套餐分类",trigger:"change"},image:{required:!0,message:"菜品图片不能为空"},price:{required:!0,validator:function(t,e,a){var n=/^([1-9]\d{0,5}|0)(\.\d{1,2})?$/;!n.test(e)||Number(e)<=0?a(new Error("套餐价格格式有误，请输入大于零且最多保留两位小数的金额")):a()},trigger:"blur"},code:{required:!0,message:"请输入商品码",trigger:"blur"}}}},{key:"created",value:function(){this.getDishTypeList(),this.actionType=this.$route.query.id?"edit":"add","edit"==this.actionType&&this.init()}},{key:"init",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(E["f"])(this.$route.query.id).then((function(t){t&&t.data&&1===t.data.code?(e.ruleForm=t.data.data,e.ruleForm.status="1"==t.data.data.status,e.ruleForm.price=t.data.data.price,e.imageUrl=t.data.data.image,e.checkList=t.data.data.setmealDishes,e.dishTable=t.data.data.setmealDishes.reverse(),e.ruleForm.idType=t.data.data.categoryId):e.$message.error(t.data.msg)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"seachHandle",value:function(){this.seachKey=this.value}},{key:"getDishTypeList",value:function(){var t=this;Object(g["f"])({type:2,page:1,pageSize:1e3}).then((function(e){e&&e.data&&1===e.data.code?t.setMealList=e.data.data.map((function(t){return R(R({},t),{},{idType:t.id})})):t.$message.error(e.data.msg)}))}},{key:"delDishHandle",value:function(t){this.dishTable.splice(t,1),this.checkList=this.dishTable}},{key:"getCheckList",value:function(t){this.checkList=Object(i["a"])(t).reverse()}},{key:"openAddDish",value:function(t){this.seachKey="",this.dialogVisible=!0}},{key:"handleClose",value:function(t){this.dialogVisible=!1,this.checkList=JSON.parse(JSON.stringify(this.dishTable))}},{key:"addTableList",value:function(){this.dishTable=JSON.parse(JSON.stringify(this.checkList)),this.dishTable.forEach((function(t){t.copies=1})),this.dialogVisible=!1}},{key:"submitForm",value:function(t,e){var a=this;this.$refs[t].validate((function(t){if(!t)return!1;if(0===a.dishTable.length)return a.$message.error("套餐下菜品不能为空");if(!a.ruleForm.image)return a.$message.error("套餐图片不能为空");var n=R({},a.ruleForm);n.setmealDishes=a.dishTable.map((function(t){return{copies:t.copies,dishId:t.dishId,name:t.name,price:t.price}})),n.status="add"===a.actionType?0:a.ruleForm.status?1:0,n.categoryId=a.ruleForm.idType,"add"==a.actionType?(delete n.id,Object(E["a"])(n).then((function(t){t&&t.data&&1===t.data.code?(a.$message.success("套餐添加成功！"),e?(a.$refs.ruleForm.resetFields(),a.dishList=[],a.dishTable=[],a.ruleForm={name:"",categoryId:"",price:"",code:"",image:"",description:"",dishList:[],status:!0,id:"",idType:""},a.imageUrl=""):a.$router.push({path:"/setmeal"})):a.$message.error(t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)}))):(delete n.updateTime,Object(E["d"])(n).then((function(t){1===t.data.code&&(a.$message.success("套餐修改成功！"),a.$router.push({path:"/setmeal"}))})).catch((function(t){a.$message.error("请求出错了："+t.message)})))}))}},{key:"imageChange",value:function(t){this.ruleForm.image=t}}]),a}(h["c"]);F=Object(p["a"])([Object(h["a"])({name:"addShop",components:{HeadLable:b["a"],AddDish:S,ImageUpload:_["a"]}})],F);var B=F,A=B,I=(a("8b57"),a("f38f"),a("420c"),Object(w["a"])(A,n,r,!1,null,"65bdc339",null));e["default"]=I.exports},"64bc":function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"64dd":function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},6762:function(t,e,a){"use strict";var n=a("5ca1"),r=a("c366")(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"6ec2":function(t,e,a){},"79f6":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"e",(function(){return i})),a.d(e,"f",(function(){return s})),a.d(e,"b",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"i",(function(){return l})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"a",(function(){return f}));var n=a("b32d"),r=function(){return Object(n["a"])({url:"/workspace/overviewOrders",method:"get"})},i=function(){return Object(n["a"])({url:"/workspace/overviewDishes",method:"get"})},s=function(){return Object(n["a"])({url:"/workspace/overviewSetmeals",method:"get"})},o=function(){return Object(n["a"])({url:"/workspace/businessData",method:"get"})},c=function(t){return Object(n["a"])({url:"/report/turnoverStatistics",method:"get",params:t})},l=function(t){return Object(n["a"])({url:"/report/userStatistics",method:"get",params:t})},u=function(t){return Object(n["a"])({url:"/report/ordersStatistics",method:"get",params:t})},d=function(t){return Object(n["a"])({url:"/report/top10",method:"get",params:t})};function f(){return Object(n["a"])({url:"/report/export",method:"get",responseType:"blob"})}},"7d8a":function(t,e,a){"use strict";a("a25a")},"7f3e":function(t,e,a){},8297:function(t,e,a){"use strict";a("64dd")},"83af":function(t,e,a){"use strict";a("9f262")},"84a9":function(t,e,a){"use strict";a.r(e);a("7f7f"),a("6762"),a("2fdb");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container"},[e("TabChange",{attrs:{"order-statics":t.orderStatics,"default-activity":t.defaultActivity},on:{tabChange:t.change}}),e("div",{staticClass:"container",class:{hContainer:t.tableData.length}},[e("div",{staticClass:"tableBar"},[e("label",{staticStyle:{"margin-right":"10px"}},[t._v("订单号：")]),e("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请填写订单号",clearable:""},on:{clear:function(e){return t.init(t.orderStatus)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initFun(t.orderStatus)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),e("label",{staticStyle:{"margin-left":"20px"}},[t._v("手机号：")]),e("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请填写手机号",clearable:""},on:{clear:function(e){return t.init(t.orderStatus)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initFun(t.orderStatus)}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),e("label",{staticStyle:{"margin-left":"20px"}},[t._v("下单时间：")]),e("el-date-picker",{staticStyle:{width:"25%","margin-left":"10px"},attrs:{clearable:"","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","default-time":["00:00:00","23:59:59"],type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{clear:function(e){return t.init(t.orderStatus)}},model:{value:t.valueTime,callback:function(e){t.valueTime=e},expression:"valueTime"}}),e("el-button",{staticClass:"normal-btn continue",on:{click:function(e){return t.init(t.orderStatus,!0)}}},[t._v("\n        查询\n      ")])],1),t.tableData.length?e("el-table",{staticClass:"tableBox",attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{key:"number",attrs:{prop:"number",label:"订单号"}}),[2,3,4].includes(t.orderStatus)?e("el-table-column",{key:"orderDishes",attrs:{prop:"orderDishes",label:"订单菜品"}}):t._e(),[0].includes(t.orderStatus)?e("el-table-column",{key:"status",attrs:{prop:"订单状态",label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("span",[t._v(t._s(t.getOrderType(n)))])]}}],null,!1,1146136203)}):t._e(),[0,5,6].includes(t.orderStatus)?e("el-table-column",{key:"consignee",attrs:{prop:"consignee",label:"用户名","show-overflow-tooltip":""}}):t._e(),[0,5,6].includes(t.orderStatus)?e("el-table-column",{key:"phone",attrs:{prop:"phone",label:"手机号"}}):t._e(),[0,2,3,4,5,6].includes(t.orderStatus)?e("el-table-column",{key:"address",attrs:{prop:"address",label:"地址","class-name":6===t.orderStatus?"address":""}}):t._e(),[0,6].includes(t.orderStatus)?e("el-table-column",{key:"orderTime",attrs:{prop:"orderTime",label:"下单时间","class-name":"orderTime","min-width":"110"}}):t._e(),[6].includes(t.orderStatus)?e("el-table-column",{key:"cancelTime",attrs:{prop:"cancelTime","class-name":"cancelTime",label:"取消时间","min-width":"110"}}):t._e(),[6].includes(t.orderStatus)?e("el-table-column",{key:"cancelReason",attrs:{prop:"cancelReason",label:"取消原因","class-name":"cancelReason","min-width":[6].includes(t.orderStatus)?80:"auto"}}):t._e(),[5].includes(t.orderStatus)?e("el-table-column",{key:"deliveryTime",attrs:{prop:"deliveryTime",label:"送达时间"}}):t._e(),[2,3,4].includes(t.orderStatus)?e("el-table-column",{key:"estimatedDeliveryTime",attrs:{prop:"estimatedDeliveryTime",label:"预计送达时间","min-width":"110"}}):t._e(),[0,2,5].includes(t.orderStatus)?e("el-table-column",{key:"amount",attrs:{prop:"amount",label:"实收金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("span",[t._v("￥"+t._s(100*n.amount.toFixed(2)/100))])]}}],null,!1,1581866610)}):t._e(),[2,3,4,5].includes(t.orderStatus)?e("el-table-column",{key:"remark",attrs:{prop:"remark",label:"备注",align:"center"}}):t._e(),[2,3,4].includes(t.orderStatus)?e("el-table-column",{key:"tablewareNumber",attrs:{prop:"tablewareNumber",label:"餐具数量",align:"center","min-width":"80"}}):t._e(),e("el-table-column",{attrs:{prop:"btn",label:"操作",align:"center","class-name":0===t.orderStatus?"operate":"otherOperate","min-width":[2,3,4].includes(t.orderStatus)?130:[0].includes(t.orderStatus)?140:"auto"},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.row;return[e("div",{staticClass:"before"},[2===n.status?e("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(e){t.orderAccept(n),t.isTableOperateBtn=!0}}},[t._v("\n              接单\n            ")]):t._e(),3===n.status?e("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(e){return t.cancelOrDeliveryOrComplete(3,n.id)}}},[t._v("\n              派送\n            ")]):t._e(),4===n.status?e("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(e){return t.cancelOrDeliveryOrComplete(4,n.id)}}},[t._v("\n              完成\n            ")]):t._e()],1),e("div",{staticClass:"middle"},[2===n.status?e("el-button",{staticClass:"delBut",attrs:{type:"text"},on:{click:function(e){t.orderReject(n),t.isTableOperateBtn=!0}}},[t._v("\n              拒单\n            ")]):t._e(),[1,3,4,5].includes(n.status)?e("el-button",{staticClass:"delBut",attrs:{type:"text"},on:{click:function(e){return t.cancelOrder(n)}}},[t._v("\n              取消\n            ")]):t._e()],1),e("div",{staticClass:"after"},[e("el-button",{staticClass:"blueBug non",attrs:{type:"text"},on:{click:function(e){return t.goDetail(n.id,n.status,n)}}},[t._v("\n              查看\n            ")])],1)]}}],null,!1,415560991)})],1):e("Empty",{attrs:{"is-search":t.isSearch}}),t.counts>10?e("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),e("el-dialog",{staticClass:"order-dialog",attrs:{title:"订单信息",visible:t.dialogVisible,width:"53%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-scrollbar",{staticStyle:{height:"100%"}},[e("div",{staticClass:"order-top"},[e("div",[e("div",{staticStyle:{display:"inline-block"}},[e("label",{staticStyle:{"font-size":"16px"}},[t._v("订单号：")]),e("div",{staticClass:"order-num"},[t._v("\n              "+t._s(t.diaForm.number)+"\n            ")])]),e("div",{staticClass:"order-status",class:{status3:[3,4].includes(t.dialogOrderStatus)},staticStyle:{display:"inline-block"}},[t._v("\n            "+t._s(t.orderList.filter((function(e){return e.value===t.dialogOrderStatus}))[0].label)+"\n          ")])]),e("p",[e("label",[t._v("下单时间：")]),t._v(t._s(t.diaForm.orderTime))])]),e("div",{staticClass:"order-middle"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"user-info-box"},[e("div",{staticClass:"user-name"},[e("label",[t._v("用户名：")]),e("span",[t._v(t._s(t.diaForm.consignee))])]),e("div",{staticClass:"user-phone"},[e("label",[t._v("手机号：")]),e("span",[t._v(t._s(t.diaForm.phone))])]),[2,3,4,5].includes(t.dialogOrderStatus)?e("div",{staticClass:"user-getTime"},[e("label",[t._v(t._s(5===t.dialogOrderStatus?"送达时间：":"预计送达时间："))]),e("span",[t._v(t._s(5===t.dialogOrderStatus?t.diaForm.deliveryTime:t.diaForm.estimatedDeliveryTime))])]):t._e(),e("div",{staticClass:"user-address"},[e("label",[t._v("地址：")]),e("span",[t._v(t._s(t.diaForm.address))])])]),e("div",{staticClass:"user-remark",class:{orderCancel:6===t.dialogOrderStatus}},[e("div",[t._v(t._s(6===t.dialogOrderStatus?"取消原因":"备注"))]),e("span",[t._v(t._s(6===t.dialogOrderStatus?t.diaForm.cancelReason||t.diaForm.rejectionReason:t.diaForm.remark))])])]),e("div",{staticClass:"dish-info"},[e("div",{staticClass:"dish-label"},[t._v("菜品")]),e("div",{staticClass:"dish-list"},t._l(t.diaForm.orderDetailList,(function(a,n){return e("div",{key:n,staticClass:"dish-item"},[e("div",{staticClass:"dish-item-box"},[e("span",{staticClass:"dish-name"},[t._v(t._s(a.name))]),e("span",{staticClass:"dish-num"},[t._v("x"+t._s(a.number))])]),e("span",{staticClass:"dish-price"},[t._v("￥"+t._s(a.amount?a.amount.toFixed(2):""))])])})),0),e("div",{staticClass:"dish-all-amount"},[e("label",[t._v("菜品小计")]),e("span",[t._v("￥"+t._s((t.diaForm.amount-6-t.diaForm.packAmount).toFixed(2)))])])])]),e("div",{staticClass:"order-bottom"},[e("div",{staticClass:"amount-info"},[e("div",{staticClass:"amount-label"},[t._v("费用")]),e("div",{staticClass:"amount-list"},[e("div",{staticClass:"dish-amount"},[e("span",{staticClass:"amount-name"},[t._v("菜品小计：")]),e("span",{staticClass:"amount-price"},[t._v("￥"+t._s(100*(t.diaForm.amount-6-t.diaForm.packAmount).toFixed(2)/100))])]),e("div",{staticClass:"send-amount"},[e("span",{staticClass:"amount-name"},[t._v("派送费：")]),e("span",{staticClass:"amount-price"},[t._v("￥"+t._s(6))])]),e("div",{staticClass:"package-amount"},[e("span",{staticClass:"amount-name"},[t._v("打包费：")]),e("span",{staticClass:"amount-price"},[t._v("￥"+t._s(t.diaForm.packAmount?100*t.diaForm.packAmount.toFixed(2)/100:""))])]),e("div",{staticClass:"all-amount"},[e("span",{staticClass:"amount-name"},[t._v("合计：")]),e("span",{staticClass:"amount-price"},[t._v("￥"+t._s(t.diaForm.amount?100*t.diaForm.amount.toFixed(2)/100:""))])]),e("div",{staticClass:"pay-type"},[e("span",{staticClass:"pay-name"},[t._v("支付渠道：")]),e("span",{staticClass:"pay-value"},[t._v(t._s(1===t.diaForm.payMethod?"微信支付":"支付宝支付"))])]),e("div",{staticClass:"pay-time"},[e("span",{staticClass:"pay-name"},[t._v("支付时间：")]),e("span",{staticClass:"pay-value"},[t._v(t._s(t.diaForm.checkoutTime))])])])])])]),6!==t.dialogOrderStatus?e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[2===t.dialogOrderStatus&&2===t.orderStatus?e("el-checkbox",{model:{value:t.isAutoNext,callback:function(e){t.isAutoNext=e},expression:"isAutoNext"}},[t._v("处理完自动跳转下一条")]):t._e(),2===t.dialogOrderStatus?e("el-button",{on:{click:function(e){t.orderReject(t.row),t.isTableOperateBtn=!1}}},[t._v("拒 单")]):t._e(),2===t.dialogOrderStatus?e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.orderAccept(t.row),t.isTableOperateBtn=!1}}},[t._v("接 单")]):t._e(),[1,3,4,5].includes(t.dialogOrderStatus)?e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("返 回")]):t._e(),3===t.dialogOrderStatus?e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.cancelOrDeliveryOrComplete(3,t.row.id)}}},[t._v("派 送")]):t._e(),4===t.dialogOrderStatus?e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.cancelOrDeliveryOrComplete(4,t.row.id)}}},[t._v("完 成")]):t._e(),[1].includes(t.dialogOrderStatus)?e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.cancelOrder(t.row)}}},[t._v("取消订单")]):t._e()],1):t._e()],1),e("el-dialog",{staticClass:"cancelDialog",attrs:{title:t.cancelDialogTitle+"原因",visible:t.cancelDialogVisible,width:"42%","before-close":function(){return t.cancelDialogVisible=!1,t.cancelReason=""}},on:{"update:visible":function(e){t.cancelDialogVisible=e}}},[e("el-form",{attrs:{"label-width":"90px"}},[e("el-form-item",{attrs:{label:t.cancelDialogTitle+"原因："}},[e("el-select",{attrs:{placeholder:"请选择"+t.cancelDialogTitle+"原因"},model:{value:t.cancelReason,callback:function(e){t.cancelReason=e},expression:"cancelReason"}},t._l("取消"===t.cancelDialogTitle?t.cancelrReasonList:t.cancelOrderReasonList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.label}})})),1)],1),"自定义原因"===t.cancelReason?e("el-form-item",{attrs:{label:"原因："}},[e("el-input",{attrs:{type:"textarea",placeholder:"请填写您"+t.cancelDialogTitle+"的原因（限20字内）",maxlength:"20"},model:{value:t.remark,callback:function(e){t.remark="string"===typeof e?e.trim():e},expression:"remark"}})],1):t._e()],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.cancelDialogVisible=!1,t.cancelReason=""}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmCancel}},[t._v("确 定")])],1)],1)],1)},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("2397"),a("96cf"),a("3b8d")),s=a("bd86"),o=(a("c5f6"),a("d225")),c=a("b0b4"),l=a("4e2b"),u=a("308d"),d=a("6bb5"),f=a("9ab4"),p=a("60a3"),h=a("d666"),b=a("4be2"),_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tab-change"},t._l(t.changedOrderList,(function(a){return e("div",{key:a.value,staticClass:"tab-item",class:{active:a.value===t.activeIndex},on:{click:function(e){return t.tabChange(a.value)}}},[e("el-badge",{staticClass:"item",class:{"special-item":a.num<10},attrs:{value:a.num>99?"99+":a.num,hidden:!([2,3,4].includes(a.value)&&a.num)}},[t._v("\n      "+t._s(a.label)+"\n    ")])],1)})),0)},m=[];function v(t){var e=g();return function(){var a,n=Object(d["a"])(t);if(e){var r=Object(d["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u["a"])(this,a)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var y=function(t){Object(l["a"])(a,t);var e=v(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.activeIndex=t.defaultActivity||0,t}return Object(c["a"])(a,[{key:"onChange",value:function(t){this.activeIndex=Number(t)}},{key:"changedOrderList",get:function(){return[{label:"全部订单",value:0},{label:"待接单",value:2,num:this.orderStatics.toBeConfirmed},{label:"待派送",value:3,num:this.orderStatics.confirmed},{label:"派送中",value:4,num:this.orderStatics.deliveryInProgress},{label:"已完成",value:5},{label:"已取消",value:6}]}},{key:"tabChange",value:function(t){this.activeIndex=t,this.$emit("tabChange",t)}}]),a}(p["c"]);Object(f["a"])([Object(p["b"])({default:""})],y.prototype,"orderStatics",void 0),Object(f["a"])([Object(p["b"])({default:""})],y.prototype,"defaultActivity",void 0),Object(f["a"])([Object(p["d"])("defaultActivity")],y.prototype,"onChange",null),y=Object(f["a"])([Object(p["a"])({name:"TabChange"})],y);var O=y,k=O,j=(a("a689"),a("2877")),C=Object(j["a"])(k,_,m,!1,null,null,null),x=C.exports,w=a("fab1"),D=a("560a");function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function T(t){var e=R();return function(){var a,n=Object(d["a"])(t);if(e){var r=Object(d["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u["a"])(this,a)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var L=function(t){Object(l["a"])(a,t);var e=T(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.defaultActivity=0,t.orderStatics={},t.row={},t.isAutoNext=!0,t.isTableOperateBtn=!0,t.currentPageIndex=0,t.orderId="",t.input="",t.phone="",t.valueTime=[],t.dialogVisible=!1,t.cancelDialogVisible=!1,t.cancelDialogTitle="",t.cancelReason="",t.remark="",t.counts=0,t.page=1,t.pageSize=10,t.tableData=[],t.diaForm=[],t.isSearch=!1,t.orderStatus=0,t.dialogOrderStatus=0,t.cancelOrderReasonList=[{value:1,label:"订单量较多，暂时无法接单"},{value:2,label:"菜品已销售完，暂时无法接单"},{value:3,label:"餐厅已打烊，暂时无法接单"},{value:0,label:"自定义原因"}],t.cancelrReasonList=[{value:1,label:"订单量较多，暂时无法接单"},{value:2,label:"菜品已销售完，暂时无法接单"},{value:3,label:"骑手不足无法配送"},{value:4,label:"客户电话取消"},{value:0,label:"自定义原因"}],t.orderList=[{label:"全部订单",value:0},{label:"待付款",value:1},{label:"待接单",value:2},{label:"待派送",value:3},{label:"派送中",value:4},{label:"已完成",value:5},{label:"已取消",value:6}],t}return Object(c["a"])(a,[{key:"created",value:function(){this.init(Number(this.$route.query.status)||0)}},{key:"mounted",value:function(){this.$route.query.orderId&&"undefined"!==this.$route.query.orderId&&this.goDetail(this.$route.query.orderId,2),this.$route.query.status&&(this.defaultActivity=this.$route.query.status)}},{key:"initFun",value:function(t){this.page=1,this.init(t)}},{key:"change",value:function(t){t!==this.orderStatus&&(this.init(t),this.input="",this.phone="",this.valueTime=[],this.dialogOrderStatus=0,this.$router.push("/order"),console.log(t,"接收到了子组件的index"))}},{key:"getOrderListBy3Status",value:function(){var t=this;Object(D["d"])({}).then((function(e){1===e.data.code?t.orderStatics=e.data.data:t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("请求出错了："+e.message)}))}},{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;this.isSearch=a;var n={page:this.page,pageSize:this.pageSize,number:this.input||void 0,phone:this.phone||void 0,beginTime:this.valueTime&&this.valueTime.length>0?this.valueTime[0]:void 0,endTime:this.valueTime&&this.valueTime.length>0?this.valueTime[1]:void 0,status:e||void 0};Object(D["c"])(E({},n)).then((function(a){if(1===a.data.code){if(t.tableData=a.data.data.records,t.orderStatus=e,t.counts=Number(a.data.data.total),t.getOrderListBy3Status(),!(2===t.dialogOrderStatus&&2===t.orderStatus&&t.isAutoNext&&!t.isTableOperateBtn&&a.data.data.records.length>1))return null;var n=a.data.data.records[0];t.goDetail(n.id,n.status,n)}else t.$message.error(a.data.msg)})).catch((function(e){t.$message.error("请求出错了："+e.message)}))}},{key:"getOrderType",value:function(t){return 1===t.status?"待付款":2===t.status?"待接单":3===t.status?"待派送":4===t.status?"派送中":5===t.status?"已完成":6===t.status?"已取消":"退款"}},{key:"goDetail",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.diaForm=[],this.dialogVisible=!0,this.dialogOrderStatus=a,this.orderId=e,t.next=6,Object(D["h"])({orderId:e});case 6:r=t.sent,i=r.data,this.diaForm=i.data,this.row=n||{id:this.$route.query.orderId,status:a},this.$route.query.orderId&&this.$router.push("/order");case 11:case"end":return t.stop()}}),t,this)})));function e(e,a,n){return t.apply(this,arguments)}return e}()},{key:"orderReject",value:function(t){this.cancelDialogVisible=!0,this.orderId=t.id,this.dialogOrderStatus=t.status,this.cancelDialogTitle="拒绝",this.dialogVisible=!1,this.cancelReason=""}},{key:"orderAccept",value:function(t){var e=this;this.orderId=t.id,this.dialogOrderStatus=t.status,Object(D["e"])({id:this.orderId}).then((function(t){1===t.data.code?(e.$message.success("操作成功"),e.orderId="",e.dialogVisible=!1,e.init(e.orderStatus)):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}},{key:"cancelOrder",value:function(t){this.cancelDialogVisible=!0,this.orderId=t.id,this.dialogOrderStatus=t.status,this.cancelDialogTitle="取消",this.dialogVisible=!1,this.cancelReason=""}},{key:"confirmCancel",value:function(t){var e=this;return this.cancelReason?"自定义原因"!==this.cancelReason||this.remark?void("取消"===this.cancelDialogTitle?D["f"]:D["g"])(Object(s["a"])({id:this.orderId},"取消"===this.cancelDialogTitle?"cancelReason":"rejectionReason","自定义原因"===this.cancelReason?this.remark:this.cancelReason)).then((function(t){1===t.data.code?(e.$message.success("操作成功"),e.cancelDialogVisible=!1,e.orderId="",e.init(e.orderStatus)):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)})):this.$message.error("请输入".concat(this.cancelDialogTitle,"原因")):this.$message.error("请选择".concat(this.cancelDialogTitle,"原因"))}},{key:"cancelOrDeliveryOrComplete",value:function(t,e){var a=this,n={status:t,id:e};(3===t?D["b"]:D["a"])(n).then((function(t){1===t.data.code?(a.$message.success("操作成功"),a.orderId="",a.dialogVisible=!1,a.init(a.orderStatus)):a.$message.error(t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)}))}},{key:"handleClose",value:function(){this.dialogVisible=!1}},{key:"handleSizeChange",value:function(t){this.pageSize=t,this.init(this.orderStatus)}},{key:"handleCurrentChange",value:function(t){this.page=t,this.init(this.orderStatus)}}]),a}(p["c"]);L=Object(f["a"])([Object(p["a"])({components:{HeadLable:h["a"],InputAutoComplete:b["a"],TabChange:x,Empty:w["a"]}})],L);var P=L,F=P,B=(a("7d8a"),a("cf7e"),Object(j["a"])(F,n,r,!1,null,"b7c1242a",null));e["default"]=B.exports},"8b57":function(t,e,a){"use strict";a("6ec2")},"8b97":function(t,e,a){var n=a("d3f4"),r=a("cb7c"),i=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,a){return i(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:i}},"8f71":function(t,e,a){},9280:function(t,e,a){},"95b9":function(t,e,a){"use strict";a("de63")},9744:function(t,e,a){"use strict";var n=a("4588"),r=a("be13");t.exports=function(t){var e=String(r(this)),a="",i=n(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},"99ad":function(t,e,a){"use strict";a("5d0c")},"99bc":function(t,e,a){"use strict";a("7f3e")},"9f262":function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},a192:function(t,e,a){"use strict";a.r(e);a("55dd"),a("7f7f");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"container"},[e("div",{staticClass:"tableBar",staticStyle:{display:"inline-block",width:"100%"}},[e("label",{staticStyle:{"margin-right":"10px"}},[t._v("分类名称：")]),e("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请填写分类名称",clearable:""},on:{clear:t.init},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.init.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("label",{staticStyle:{"margin-right":"5px","margin-left":"20px"}},[t._v("分类类型：")]),e("el-select",{staticStyle:{width:"15%"},attrs:{placeholder:"请选择",clearable:""},on:{clear:t.init},model:{value:t.categoryType,callback:function(e){t.categoryType=e},expression:"categoryType"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("div",{staticStyle:{float:"right"}},[e("el-button",{staticClass:"continue",attrs:{type:"primary"},on:{click:function(e){return t.addClass("class")}}},[t._v("\n          + 新增菜品分类\n        ")]),e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.addClass("meal")}}},[t._v("\n          + 新增套餐分类\n        ")])],1),e("el-button",{staticClass:"normal-btn continue",on:{click:function(e){return t.init(!0)}}},[t._v("\n        查询\n      ")])],1),t.tableData.length?e("el-table",{staticClass:"tableBox",attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),e("el-table-column",{attrs:{prop:"type",label:"分类类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s("1"==a.row.type?"菜品分类":"套餐分类"))])]}}],null,!1,2535166896)}),e("el-table-column",{attrs:{prop:"sort",label:"排序"}}),e("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(a.row.status)}},[t._v("\n            "+t._s("0"===String(a.row.status)?"禁用":"启用")+"\n          ")])]}}],null,!1,1902337151)}),e("el-table-column",{attrs:{prop:"updateTime",label:"操作时间"}}),e("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"blueBug",attrs:{type:"text",size:"small"},on:{click:function(e){return t.editHandle(a.row)}}},[t._v("\n            修改\n          ")]),e("el-button",{staticClass:"delBut",attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteHandle(a.row.id)}}},[t._v("\n            删除\n          ")]),e("el-button",{staticClass:"non",class:{blueBug:"0"==a.row.status,delBut:"0"!=a.row.status},attrs:{type:"text",size:"small"},on:{click:function(e){return t.statusHandle(a.row)}}},[t._v("\n            "+t._s("1"==a.row.status?"禁用":"启用")+"\n          ")])]}}],null,!1,975198590)})],1):e("Empty",{attrs:{"is-search":t.isSearch}}),t.counts>10?e("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),e("el-dialog",{attrs:{title:t.classData.title,visible:t.classData.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.classData,"dialogVisible",e)}}},[e("el-form",{ref:"classData",staticClass:"demo-form-inline",attrs:{model:t.classData,rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"分类名称：",prop:"name"}},[e("el-input",{attrs:{placeholder:"请输入分类名称",maxlength:"20"},model:{value:t.classData.name,callback:function(e){t.$set(t.classData,"name",e)},expression:"classData.name"}})],1),e("el-form-item",{attrs:{label:"排序：",prop:"sort"}},[e("el-input",{attrs:{placeholder:"请输入排序"},model:{value:t.classData.sort,callback:function(e){t.$set(t.classData,"sort",e)},expression:"classData.sort"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"medium"},on:{click:function(e){t.classData.dialogVisible=!1,t.$refs.classData.resetFields()}}},[t._v("取 消")]),e("el-button",{class:{continue:"add"===t.actionType},attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.submitForm()}}},[t._v("确 定")]),"edit"!=t.action?e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.submitForm("go")}}},[t._v("\n        保存并继续添加\n      ")]):t._e()],1)],1)],1)},r=[],i=(a("2397"),a("96cf"),a("3b8d")),s=(a("c5f6"),a("3b2b"),a("d225")),o=a("b0b4"),c=a("4e2b"),l=a("308d"),u=a("6bb5"),d=a("9ab4"),f=a("60a3"),p=a("d666"),h=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),b=a("b32d");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(h["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v=function(t){return Object(b["a"])({url:"/category/page",method:"get",params:t})},g=function(t){return Object(b["a"])({url:"/category",method:"delete",params:{id:t}})},y=function(t){return Object(b["a"])({url:"/category",method:"put",data:m({},t)})},O=function(t){return Object(b["a"])({url:"/category",method:"post",data:m({},t)})},k=function(t){return Object(b["a"])({url:"/category/status/".concat(t.status),method:"post",params:{id:t.id}})},j=a("fab1");function C(t){var e=x();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var w=function(t){Object(c["a"])(a,t);var e=C(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.options=[{value:1,label:"菜品分类"},{value:2,label:"套餐分类"}],t.actionType="",t.id="",t.status="",t.categoryType=null,t.name="",t.action="",t.counts=0,t.page=1,t.pageSize=10,t.tableData=[],t.type="",t.isSearch=!1,t.classData={title:"添加菜品分类",dialogVisible:!1,categoryId:"",name:"",sort:""},t}return Object(o["a"])(a,[{key:"rules",get:function(){var t=this;return{name:[{required:!0,trigger:"blur",validator:function(e,a,n){var r=new RegExp("^[A-Za-z一-龥]+$");a?a.length<2?n(new Error("分类名称输入不符，请输入2-20个字符")):r.test(a)?n():n(new Error("分类名称包含特殊字符")):n(new Error(t.classData.title+"不能为空"))}}],sort:[{required:!0,trigger:"blur",validator:function(t,e,a){if(e||"0"===String(e)){var n=/^\d+$/;n.test(e)?Number(e)>99?a(new Error("排序只能输入0-99数字")):a():a(new Error("排序只能输入数字类型"))}else a(new Error("排序不能为空"))}}]}}},{key:"created",value:function(){this.init()}},{key:"init",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isSearch=e,t.next=3,v({page:this.page,pageSize:this.pageSize,name:this.name?this.name:void 0,type:this.categoryType?this.categoryType:void 0}).then((function(t){"1"===String(t.data.code)?(a.tableData=t&&t.data&&t.data.data&&t.data.data.records,a.counts=Number(t.data.data.total)):a.$message.error(t.data.desc)})).catch((function(t){console.log(t,"err"),a.$message.error("请求出错了："+t.message)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addClass",value:function(t){"class"==t?(this.classData.title="新增菜品分类",this.type="1"):(this.classData.title="新增套餐分类",this.type="2"),this.action="add",this.classData.name="",this.classData.sort="",this.classData.dialogVisible=!0,this.actionType="add"}},{key:"editHandle",value:function(t){this.classData.title="修改分类",this.action="edit",this.classData.name=t.name,this.classData.sort=t.sort,this.classData.id=t.id,this.classData.dialogVisible=!0,this.actionType="edit"}},{key:"handleClose",value:function(t){console.log(this.$refs.classData,"this.$refs.classData"),this.classData.dialogVisible=!1,this.$refs.classData.resetFields()}},{key:"statusHandle",value:function(t){var e=this;this.id=t.id,this.status=t.status,this.$confirm("确认调整该分类的状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"customClass"}).then((function(){k({id:e.id,status:e.status?0:1}).then((function(t){"200"===String(t.status)&&(e.$message.success("分类状态更改成功！"),e.init())})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}))}},{key:"deleteHandle",value:function(t){var e=this;this.$confirm("此操作将永久删除该分类，是否继续？","确定删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){g(t).then((function(t){1===t.data.code?(e.$message.success("删除成功！"),e.init()):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}))}},{key:"submitForm",value:function(t){var e=this;"add"===this.action?this.$refs.classData.validate((function(a){a&&O({name:e.classData.name,type:e.type,sort:e.classData.sort}).then((function(a){1===a.data.code?(e.$message.success("分类添加成功！"),e.$refs.classData.resetFields(),t||(e.classData.dialogVisible=!1),e.init()):e.$message.error(a.data.desc||a.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))})):this.$refs.classData.validate((function(t){t&&y({id:e.classData.id,name:e.classData.name,sort:e.classData.sort}).then((function(t){1===t.data.code?(e.$message.success("分类修改成功！"),e.classData.dialogVisible=!1,e.$refs.classData.resetFields(),e.init()):e.$message.error(t.data.desc||t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}))}},{key:"handleSizeChange",value:function(t){this.pageSize=t,this.init()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.init()}}]),a}(f["c"]);w=Object(d["a"])([Object(f["a"])({name:"Category",components:{HeadLable:p["a"],Empty:j["a"]}})],w);var D=w,S=D,E=(a("af8b"),a("406e"),a("2877")),T=Object(E["a"])(S,n,r,!1,null,"98ba4134",null);e["default"]=T.exports},a25a:function(t,e,a){},a689:function(t,e,a){"use strict";a("64bc")},a964:function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},aa77:function(t,e,a){var n=a("5ca1"),r=a("be13"),i=a("79e5"),s=a("fdef"),o="["+s+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,a){var r={},o=i((function(){return!!s[t]()||c[t]()!=c})),l=r[t]=o?e(f):s[t];a&&(r[a]=l),n(n.P+n.F*o,"String",r)},f=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},ac67:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container home"},[e("TitleIndex",{attrs:{flag:t.flag,tateData:t.tateData},on:{sendTitleInd:t.getTitleNum}}),e("div",{staticClass:"homeMain"},[e("TurnoverStatistics",{attrs:{turnoverdata:t.turnoverData}}),e("UserStatistics",{attrs:{userdata:t.userData}})],1),e("div",{staticClass:"homeMain homecon"},[e("OrderStatistics",{attrs:{orderdata:t.orderData,overviewData:t.overviewData}}),e("Top",{attrs:{top10data:t.top10Data}})],1)],1)},r=[],i=(a("2397"),a("28a5"),a("96cf"),a("3b8d")),s=a("d225"),o=a("b0b4"),c=a("4e2b"),l=a("308d"),u=a("6bb5"),d=a("9ab4"),f=a("60a3"),p=a("d9cf"),h=a("79f6"),b=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"title-index"},[e("div",{staticClass:"month"},[e("ul",{staticClass:"tabs"},t._l(t.tabsParam,(function(a,n){return e("li",{key:n,staticClass:"li-tab",class:{active:n===t.nowIndex},on:{click:function(e){return t.toggleTabs(n)}}},[t._v("\n        "+t._s(a)+"\n        "),e("span")])})),0)]),e("div",{staticClass:"get-time"},[e("p",[t._v("\n      已选时间："+t._s(t.tateData[0])+" 至\n      "+t._s(t.tateData[t.tateData.length-1])+"\n    ")])]),e("el-button",{staticClass:"right-el-button",attrs:{icon:"iconfont icon-download"},on:{click:t.handleExport}},[t._v("数据导出")])],1)},_=[];function m(t){var e=v();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var g=function(t){Object(c["a"])(a,t);var e=m(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.nowIndex=1,t.value=[],t.tabsParam=["昨日","近7日","近30日","本周","本月"],t}return Object(o["a"])(a,[{key:"getNowIndex",value:function(t){this.nowIndex=t}},{key:"toggleTabs",value:function(t){this.nowIndex=t,this.value=[],this.$emit("sendTitleInd",t+1)}},{key:"handleExport",value:function(){this.$confirm("是否确认导出最近30天运营数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["a"])();case 2:e=t.sent,a=e.data,n=window.URL.createObjectURL(a),r=document.createElement("a"),document.body.appendChild(r),r.href=n,r.download="运营数据统计报表.xlsx",r.click(),window.URL.revokeObjectURL(n);case 11:case"end":return t.stop()}}),t)})))).then((function(t){}))}}]),a}(f["c"]);Object(d["a"])([Object(f["b"])()],g.prototype,"flag",void 0),Object(d["a"])([Object(f["b"])()],g.prototype,"tateData",void 0),Object(d["a"])([Object(f["b"])()],g.prototype,"turnoverData",void 0),Object(d["a"])([Object(f["d"])("flag")],g.prototype,"getNowIndex",null),g=Object(d["a"])([Object(f["a"])({name:"TitleIndex"})],g);var y=g,O=y,k=a("2877"),j=Object(k["a"])(O,b,_,!1,null,null,null),C=j.exports,x=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},w=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container"},[e("h2",{staticClass:"homeTitle"},[t._v("营业额统计")]),e("div",{staticClass:"charBox"},[e("div",{staticStyle:{width:"100%",height:"320px"},attrs:{id:"main"}}),e("ul",{staticClass:"orderListLine turnover"},[e("li",[t._v("营业额(元)")])])])])}],D=a("313e");function S(t){var e=E();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var T=function(t){Object(c["a"])(a,t);var e=S(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getData",value:function(){var t=this;this.$nextTick((function(){t.initChart()}))}},{key:"initChart",value:function(){var t,e=document.getElementById("main"),a=D["init"](e);t={tooltip:{trigger:"axis"},grid:{top:"5%",left:"10",right:"50",bottom:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},axisLine:{lineStyle:{color:"#E5E4E4",width:1}},data:this.turnoverdata.dateList},yAxis:[{type:"value",min:0,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}}}],series:[{name:"营业额",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#F29C1B",lineStyle:{color:"#FFD000"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FFC100"}},data:this.turnoverdata.turnoverList}]},t&&a.setOption(t)}}]),a}(f["c"]);Object(d["a"])([Object(f["b"])()],T.prototype,"turnoverdata",void 0),Object(d["a"])([Object(f["d"])("turnoverdata")],T.prototype,"getData",null),T=Object(d["a"])([Object(f["a"])({name:"TurnoverStatistics"})],T);var R=T,L=R,P=Object(k["a"])(L,x,w,!1,null,null,null),F=P.exports,B=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},A=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container"},[e("h2",{staticClass:"homeTitle"},[t._v("用户统计")]),e("div",{staticClass:"charBox"},[e("div",{staticStyle:{width:"100%",height:"320px"},attrs:{id:"usermain"}}),e("ul",{staticClass:"orderListLine user"},[e("li",{staticClass:"one"},[e("span"),t._v("用户总量（个）")]),e("li",{staticClass:"three"},[e("span"),t._v("新增用户（个）")])])])])}];function I(t){var e=U();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function U(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var $=function(t){Object(c["a"])(a,t);var e=I(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getData",value:function(){var t=this;this.$nextTick((function(){t.initChart()}))}},{key:"initChart",value:function(){var t,e=document.getElementById("usermain"),a=D["init"](e);t={tooltip:{trigger:"axis",backgroundColor:"#fff",borderRadius:2,textStyle:{color:"#333",fontSize:12,fontWeight:300}},grid:{top:"5%",left:"20",right:"50",bottom:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},axisLine:{lineStyle:{color:"#E5E4E4",width:1}},data:this.userdata.dateList},yAxis:[{type:"value",min:0,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}}}],series:[{name:"用户总量",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FFD000",lineStyle:{color:"#FFD000"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FFC100"}},data:this.userdata.totalUserList},{name:"新增用户",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FD7F7F",fontWeigth:300,lineStyle:{color:"#FD7F7F"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FD7F7F"}},data:this.userdata.newUserList}]},t&&a.setOption(t)}}]),a}(f["c"]);Object(d["a"])([Object(f["b"])()],$.prototype,"userdata",void 0),Object(d["a"])([Object(f["d"])("userdata")],$.prototype,"getData",null),$=Object(d["a"])([Object(f["a"])({name:"UserStatistics"})],$);var M=$,z=M,N=Object(k["a"])(z,B,A,!1,null,"0a5ada92",null),W=N.exports,K=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container"},[e("h2",{staticClass:"homeTitle"},[t._v("订单统计")]),e("div",{staticClass:"charBox"},[e("div",{staticClass:"orderProportion"},[e("div",[e("p",[t._v("订单完成率")]),e("p",[t._v(t._s((100*t.orderdata.orderCompletionRate).toFixed(1))+"%")])]),e("div",{staticClass:"symbol"},[t._v("=")]),e("div",[e("p",[t._v("有效订单")]),e("p",[t._v(t._s(t.orderdata.validOrderCount))])]),e("div",{staticClass:"symbol"},[t._v("/")]),e("div",[e("p",[t._v("订单总数")]),e("p",[t._v(t._s(t.orderdata.totalOrderCount))])])]),e("div",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"ordermain"}}),t._m(0)])])},q=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ul",{staticClass:"orderListLine"},[e("li",{staticClass:"one"},[e("span"),t._v("订单总数（个）")]),e("li",{staticClass:"three"},[e("span"),t._v("有效订单（个）")])])}];function Y(t){var e=V();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function V(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var H=function(t){Object(c["a"])(a,t);var e=Y(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getData",value:function(){var t=this;this.$nextTick((function(){t.initChart()}))}},{key:"initChart",value:function(){var t,e=document.getElementById("ordermain"),a=D["init"](e);console.log(this.orderdata),t={tooltip:{trigger:"axis",backgroundColor:"#fff",borderRadius:2,textStyle:{color:"#333",fontSize:12,fontWeight:300}},grid:{top:"5%",left:"20",right:"50",bottom:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},axisLine:{lineStyle:{color:"#E5E4E4",width:1}},data:this.orderdata.data.dateList},yAxis:[{type:"value",min:0,interval:50,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}}}],series:[{name:"订单总数",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FFD000",lineStyle:{color:"#FFD000"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FFC100"}},data:this.orderdata.data.orderCountList},{name:"有效订单",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FD7F7F",lineStyle:{color:"#FD7F7F"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FD7F7F"}},data:this.orderdata.data.validOrderCountList}]},t&&a.setOption(t)}}]),a}(f["c"]);Object(d["a"])([Object(f["b"])()],H.prototype,"orderdata",void 0),Object(d["a"])([Object(f["b"])()],H.prototype,"overviewData",void 0),Object(d["a"])([Object(f["d"])("orderdata")],H.prototype,"getData",null),H=Object(d["a"])([Object(f["a"])({name:"OrderStatistics"})],H);var G=H,J=G,X=Object(k["a"])(J,K,q,!1,null,null,null),Q=X.exports,Z=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},tt=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container top10"},[e("h2",{staticClass:"homeTitle"},[t._v("销量排名TOP10")]),e("div",{staticClass:"charBox"},[e("div",{staticStyle:{width:"100%",height:"380px"},attrs:{id:"top"}})])])}];function et(t){var e=at();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function at(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var nt=function(t){Object(c["a"])(a,t);var e=et(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(o["a"])(a,[{key:"getData",value:function(){var t=this;this.$nextTick((function(){t.initChart()}))}},{key:"initChart",value:function(){var t,e=document.getElementById("top"),a=D["init"](e);t={tooltip:{trigger:"axis",backgroundColor:"#fff",borderRadius:2,textStyle:{color:"#333",fontSize:12,fontWeight:300}},grid:{top:"-10px",left:"0",right:"0",bottom:"0",containLabel:!0},xAxis:{show:!1},yAxis:{axisLine:{show:!1},axisTick:{show:!1,alignWithLabel:!0},type:"category",axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},data:this.top10data.nameList},series:[{data:this.top10data.numberList,type:"bar",showBackground:!0,backgroundStyle:{color:"#F3F4F7"},barWidth:20,barGap:"80%",barCategoryGap:"80%",itemStyle:{emphasis:{barBorderRadius:30},normal:{barBorderRadius:[0,10,10,0],color:new D["graphic"].LinearGradient(1,0,0,0,[{offset:0,color:"#FFBD00"},{offset:1,color:"#FFD000"}]),label:{show:!0,formatter:"{@score}",color:"#333",position:["8","5"]}}}}]},t&&a.setOption(t)}}]),a}(f["c"]);Object(d["a"])([Object(f["b"])()],nt.prototype,"top10data",void 0),Object(d["a"])([Object(f["d"])("top10data")],nt.prototype,"getData",null),nt=Object(d["a"])([Object(f["a"])({name:"Top"})],nt);var rt=nt,it=rt,st=Object(k["a"])(it,Z,tt,!1,null,null,null),ot=st.exports;function ct(t){var e=lt();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var ut=function(t){Object(c["a"])(a,t);var e=ct(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.overviewData={},t.flag=2,t.tateData=[],t.turnoverData={},t.userData={},t.orderData={data:{}},t.top10Data={},t}return Object(o["a"])(a,[{key:"created",value:function(){this.getTitleNum(2)}},{key:"init",value:function(t,e){var a=this;this.$nextTick((function(){a.getTurnoverStatisticsData(t,e),a.getUserStatisticsData(t,e),a.getOrderStatisticsData(t,e),a.getTopData(t,e)}))}},{key:"getTurnoverStatisticsData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["h"])({begin:e,end:a});case 2:n=t.sent,r=n.data.data,this.turnoverData={dateList:r.dateList.split(","),turnoverList:r.turnoverList.split(",")};case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getUserStatisticsData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["i"])({begin:e,end:a});case 2:n=t.sent,r=n.data.data,this.userData={dateList:r.dateList.split(","),totalUserList:r.totalUserList.split(","),newUserList:r.newUserList.split(",")};case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getOrderStatisticsData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["d"])({begin:e,end:a});case 2:n=t.sent,r=n.data.data,this.orderData={data:{dateList:r.dateList.split(","),orderCountList:r.orderCountList.split(","),validOrderCountList:r.validOrderCountList.split(",")},totalOrderCount:r.totalOrderCount,validOrderCount:r.validOrderCount,orderCompletionRate:r.orderCompletionRate};case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getTopData",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["g"])({begin:e,end:a});case 2:n=t.sent,r=n.data.data,this.top10Data={nameList:r.nameList.split(",").reverse(),numberList:r.numberList.split(",").reverse()},console.log(this.top10Data);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getTitleNum",value:function(t){switch(t){case 1:this.tateData=Object(p["a"])();break;case 2:this.tateData=Object(p["d"])();break;case 3:this.tateData=Object(p["c"])();break;case 4:this.tateData=Object(p["f"])();break;case 5:this.tateData=Object(p["e"])();break}this.init(this.tateData[0],this.tateData[1])}}]),a}(f["c"]);ut=Object(d["a"])([Object(f["a"])({name:"Dashboard",components:{TitleIndex:C,TurnoverStatistics:F,UserStatistics:W,OrderStatistics:Q,Top:ot}})],ut);var dt=ut,ft=dt,pt=Object(k["a"])(ft,n,r,!1,null,null,null);e["default"]=pt.exports},ad4a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"container"},[e("div",{staticClass:"tableBar"},[e("label",{staticStyle:{"margin-right":"10px"}},[t._v("菜品名称：")]),e("el-input",{staticStyle:{width:"14%"},attrs:{placeholder:"请填写菜品名称",clearable:""},on:{clear:t.init},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initFun.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),e("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[t._v("菜品分类：")]),e("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"请选择",clearable:""},on:{clear:t.init},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}},t._l(t.dishCategoryList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[t._v("售卖状态：")]),e("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"请选择",clearable:""},on:{clear:t.init},model:{value:t.dishStatus,callback:function(e){t.dishStatus=e},expression:"dishStatus"}},t._l(t.saleStatus,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{staticClass:"normal-btn continue",on:{click:function(e){return t.init(!0)}}},[t._v("\n        查询\n      ")]),e("div",{staticClass:"tableLab"},[e("span",{staticClass:"delBut non",on:{click:function(e){return t.deleteHandle("批量",null)}}},[t._v("批量删除")]),e("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(e){return t.addDishtype("add")}}},[t._v("\n          + 新建菜品\n        ")])],1)],1),t.tableData.length?e("el-table",{staticClass:"tableBox",attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"25"}}),e("el-table-column",{attrs:{prop:"name",label:"菜品名称"}}),e("el-table-column",{attrs:{prop:"image",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){var n=t.row;return[e("el-image",{staticStyle:{width:"80px",height:"40px",border:"none",cursor:"pointer"},attrs:{src:n.image}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticStyle:{width:"auto",height:"40px",border:"none"},attrs:{src:a("19e6")}})])])]}}],null,!1,3986313203)}),e("el-table-column",{attrs:{prop:"categoryName",label:"菜品分类"}}),e("el-table-column",{attrs:{label:"售价"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("￥"+t._s(100*a.row.price.toFixed(2)/100))])]}}],null,!1,2377909288)}),e("el-table-column",{attrs:{label:"售卖状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(a.row.status)}},[t._v("\n            "+t._s("0"===String(a.row.status)?"停售":"启售")+"\n          ")])]}}],null,!1,3246160962)}),e("el-table-column",{attrs:{prop:"updateTime",label:"最后操作时间"}}),e("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"blueBug",attrs:{type:"text",size:"small"},on:{click:function(e){return t.addDishtype(a.row.id)}}},[t._v("\n            修改\n          ")]),e("el-button",{staticClass:"delBut",attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteHandle("单删",a.row.id)}}},[t._v("\n            删除\n          ")]),e("el-button",{staticClass:"non",class:{blueBug:"0"==a.row.status,delBut:"0"!=a.row.status},attrs:{type:"text",size:"small"},on:{click:function(e){return t.statusHandle(a.row)}}},[t._v("\n            "+t._s("0"==a.row.status?"启售":"停售")+"\n          ")])]}}],null,!1,3893969185)})],1):e("Empty",{attrs:{"is-search":t.isSearch}}),t.counts>10?e("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)])},r=[],i=(a("2397"),a("ac6a"),a("7f7f"),a("c5f6"),a("96cf"),a("3b8d")),s=a("d225"),o=a("b0b4"),c=a("4e2b"),l=a("308d"),u=a("6bb5"),d=a("9ab4"),f=a("60a3"),p=a("d666"),h=a("38b8"),b=a("4be2"),_=a("fab1");function m(t){var e=v();return function(){var a,n=Object(u["a"])(t);if(e){var r=Object(u["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l["a"])(this,a)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var g=function(t){Object(c["a"])(a,t);var e=m(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.input="",t.counts=0,t.page=1,t.pageSize=10,t.checkList=[],t.tableData=[],t.dishState="",t.dishCategoryList=[],t.categoryId="",t.dishStatus="",t.isSearch=!1,t.saleStatus=[{value:0,label:"停售"},{value:1,label:"启售"}],t}return Object(o["a"])(a,[{key:"created",value:function(){this.init(),this.getDishCategoryList()}},{key:"initProp",value:function(t){this.input=t,this.initFun()}},{key:"initFun",value:function(){this.page=1,this.init()}},{key:"init",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isSearch=e,t.next=3,Object(h["g"])({page:this.page,pageSize:this.pageSize,name:this.input||void 0,categoryId:this.categoryId||void 0,status:this.dishStatus}).then((function(t){1===t.data.code&&(a.tableData=t.data&&t.data.data&&t.data.data.records,a.counts=Number(t.data.data.total))})).catch((function(t){a.$message.error("请求出错了："+t.message)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addDishtype",value:function(t){"add"===t?this.$router.push({path:"/dish/add"}):this.$router.push({path:"/dish/add",query:{id:t}})}},{key:"deleteHandle",value:function(t,e){var a=this;if("批量"===t&&null===e&&0===this.checkList.length)return this.$message.error("请选择删除对象");this.$confirm("确认删除该菜品, 是否继续?","确定删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["b"])("批量"===t?a.checkList.join(","):e).then((function(t){t&&t.data&&1===t.data.code?(a.$message.success("删除成功！"),a.init()):a.$message.error(t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)}))}))}},{key:"getDishCategoryList",value:function(){var t=this;Object(h["c"])({type:1}).then((function(e){e&&e.data&&1===e.data.code&&(t.dishCategoryList=(e.data&&e.data.data&&e.data.data).map((function(t){return{value:t.id,label:t.name}})))})).catch((function(){}))}},{key:"statusHandle",value:function(t){var e=this,a={};if("string"===typeof t){if(0===this.checkList.length)return this.$message.error("批量操作，请先勾选操作菜品！"),!1;a.id=this.checkList.join(","),a.status=t}else a.id=t.id,a.status=t.status?"0":"1";this.dishState=a,this.$confirm("确认更改该菜品状态?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["d"])(e.dishState).then((function(t){t&&t.data&&1===t.data.code?(e.$message.success("菜品状态已经更改成功！"),e.init()):e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("请求出错了："+t.message)}))}))}},{key:"handleSelectionChange",value:function(t){var e=[];t.forEach((function(t){e.push(t.id)})),this.checkList=e}},{key:"handleSizeChange",value:function(t){this.pageSize=t,this.init()}},{key:"handleCurrentChange",value:function(t){this.page=t,this.init()}}]),a}(f["c"]);g=Object(d["a"])([Object(f["a"])({name:"DishType",components:{HeadLable:p["a"],InputAutoComplete:b["a"],Empty:_["a"]}})],g);var y=g,O=y,k=(a("4175"),a("034a"),a("2877")),j=Object(k["a"])(O,n,r,!1,null,"e21e02b0",null);e["default"]=j.exports},af8b:function(t,e,a){"use strict";a("e28d")},b39a:function(t,e,a){var n=a("d3f4");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b8ec:function(t,e,a){"use strict";a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"g",(function(){return f})),a.d(e,"c",(function(){return p}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),r=a("b32d");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var o=function(t){return Object(r["a"])({url:"/setmeal/page",method:"get",params:t})},c=function(t){return Object(r["a"])({url:"/setmeal",method:"delete",params:{ids:t}})},l=function(t){return Object(r["a"])({url:"/setmeal",method:"put",data:s({},t)})},u=function(t){return Object(r["a"])({url:"/setmeal",method:"post",data:s({},t)})},d=function(t){return Object(r["a"])({url:"/setmeal/".concat(t),method:"get"})},f=function(t){return Object(r["a"])({url:"/setmeal/status/".concat(t.status),method:"post",params:{id:t.ids}})},p=function(t){return Object(r["a"])({url:"/category/list",method:"get",params:s({},t)})}},bb09:function(t,e,a){"use strict";a.r(e);a("6762"),a("2fdb");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"informBox"},[e("ul",{staticClass:"conTab"},t._l(t.tabList,(function(a,n){return e("li",{key:n,class:t.activeIndex===n?"active":"",on:{click:function(e){return t.handleClass(n)}}},[e("el-badge",{staticClass:"item",class:t.ountUnread>=10?"badgeW":"",attrs:{value:0===t.ountUnread?null:t.ountUnread>99?"99+":t.ountUnread,hidden:!([1].includes(a.value)&&t.ountUnread)}},[t._v(t._s(a.label))])],1)})),0),1===t.status&&t.baseData.length>0?e("el-button",{staticClass:"right-el-button",attrs:{icon:"iconfont icon-clear"},on:{click:t.handleBatch}},[t._v("全部已读")]):e("el-button",{staticClass:"right-el-button onbutton",attrs:{icon:"iconfont icon-clear",disabled:""}},[t._v("全部已读")])],1),e("div",{staticClass:"container newBox",class:{hContainer:t.baseData.length}},[t.baseData.length>0?e("div",{staticClass:"informList"},t._l(t.baseData,(function(a,n){return e("div",{key:n},[1===a.type?e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[e("span",[t._v("【待接单】")]),t._v(t._s(a.arrNew[0])),e("span",{staticClass:"fontOrderTip",on:{click:function(e){return t.handleSetStatus(a.id)}}},[e("router-link",{attrs:{to:"/order?status=2"}},[t._v(t._s(a.arrNew[1]))])],1),t._v(t._s(a.arrNew[2])),e("span",{staticClass:"time"},[t._v(t._s(a.createTime))])])]):t._e(),2===a.type?e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[e("i",[t._v("急")]),e("span",[t._v("【待接单】")]),t._v(t._s(a.arrNew[0])),e("span",{staticClass:"fontOrderTip",on:{click:function(e){return t.handleSetStatus(a.id)}}},[e("router-link",{attrs:{to:"/order?status=2"}},[t._v(t._s(a.arrNew[1]))])],1),t._v(t._s(a.arrNew[2])),e("span",{staticClass:"time"},[t._v(t._s(a.createTime))])])]):t._e(),3===a.type?e("div",{staticClass:"item"},[e("div",{staticClass:"tit"},[e("span",[t._v("【待派送】")]),t._v(t._s(a.arrNew[0])),e("span",{staticClass:"fontOrderTip",on:{click:function(e){return t.handleSetStatus(a.id)}}},[e("router-link",{attrs:{to:"/order?status=2"}},[t._v(t._s(a.arrNew[1]))])],1),t._v(t._s(a.arrNew[2])),e("span",{staticClass:"time"},[t._v(t._s(a.createTime))])])]):t._e(),4===a.type?e("div",{staticClass:"item",on:{mouseenter:function(e){return t.toggleShow(a.id,n)},mouseleave:function(e){return t.mouseLeaves(n)}}},[e("div",{class:t.isActive?"titAlready":""},[e("div",{staticClass:"tit"},[e("span",[t._v("【催单】")]),t._v(t._s(a.arrNew[0])+"\n              "),e("span",{staticClass:"time"},[t._v(t._s(a.createTime))])]),t.shopShow&&t.showIndex===n?e("div",{staticClass:"orderInfo"},[e("p",[e("span",[e("label",[t._v("下单时间：")]),t._v(t._s(a.details.orderTime))]),e("span",[e("label",[t._v("预计送达时间：")]),t._v(t._s(a.details.estimatedDeliveryTime))])]),e("p",[t._v("\n                "+t._s(a.details.consignee)+"，"+t._s(a.details.phone)+"，"+t._s(a.details.address)+"\n              ")]),e("p",[e("span",[e("label",[t._v("菜品：")]),t._v(t._s(a.details.orderDishes))])])]):t._e()])]):t._e(),5===a.type?e("div",{staticClass:"item",on:{mouseenter:function(e){return t.toggleShow(a.id,n)},mouseleave:function(e){return t.mouseLeaves(n)}}},[e("div",{class:t.isActive?"titAlready":""},[e("div",{staticClass:"tit"},[e("span",[t._v("【今日数据】")]),t._v("认真工作的同时也要好好生活。"),e("span",{staticClass:"time"},[t._v(t._s(a.createTime))])]),t.shopShow&&t.showIndex===n?e("div",{staticClass:"orderInfo"},[e("p",[e("span",[e("label",[t._v("营业额：")]),t._v(t._s(a.details.turnover))]),e("span",[e("label",[t._v("有效订单：")]),t._v(t._s(a.details.validOrderCount)+"笔")]),e("span",[e("label",[t._v("订单完成率：")]),t._v(t._s(a.details.orderCompletionRate))])]),e("p",[e("span",[e("label",[t._v("今日新增用户：")]),t._v(t._s(a.details.newUsers))]),e("span",[e("label",[t._v("今日取消：")]),t._v(t._s(a.details.cancelledOrders)+"笔")]),e("span",[e("label",[t._v("今日取消金额：")]),t._v("￥"+t._s(a.details.cancelledAmount))])])]):t._e()])]):t._e()])})),0):e("Empty",{attrs:{"is-search":t.isSearch}}),t.counts>10?e("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)])},r=[],i=a("51ee"),s=i["a"],o=(a("99ad"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"41ca2396",null);e["default"]=c.exports},c26b:function(t,e,a){"use strict";var n=a("86cc").f,r=a("2aeb"),i=a("dcbc"),s=a("9b43"),o=a("f605"),c=a("4a59"),l=a("01f9"),u=a("d53b"),d=a("7a56"),f=a("9e1e"),p=a("67ab").fastKey,h=a("b39a"),b=f?"_s":"size",_=function(t,e){var a,n=p(e);if("F"!==n)return t._i[n];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,l){var u=t((function(t,n){o(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[b]=0,void 0!=n&&c(n,a,t[l],t)}));return i(u.prototype,{clear:function(){for(var t=h(this,e),a=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete a[n.i];t._f=t._l=void 0,t[b]=0},delete:function(t){var a=h(this,e),n=_(a,t);if(n){var r=n.n,i=n.p;delete a._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),a._f==n&&(a._f=r),a._l==n&&(a._l=i),a[b]--}return!!n},forEach:function(t){h(this,e);var a,n=s(t,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){n(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(t){return!!_(h(this,e),t)}}),f&&n(u.prototype,"size",{get:function(){return h(this,e)[b]}}),u},def:function(t,e,a){var n,r,i=_(t,e);return i?i.v=a:(t._l=i={i:r=p(e,!0),k:e,v:a,p:n=t._l,n:void 0,r:!1},t._f||(t._f=i),n&&(n.n=i),t[b]++,"F"!==r&&(t._i[r]=i)),t},getEntry:_,setStrong:function(t,e,a){l(t,e,(function(t,a){this._t=h(t,e),this._k=a,this._l=void 0}),(function(){var t=this,e=t._k,a=t._l;while(a&&a.r)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?u(0,"keys"==e?a.k:"values"==e?a.v:[a.k,a.v]):(t._t=void 0,u(1))}),a?"entries":"values",!a,!0),d(e)}}},c3fc:function(t,e,a){},c5f6:function(t,e,a){"use strict";var n=a("7726"),r=a("69a8"),i=a("2d95"),s=a("5dbc"),o=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",h=n[p],b=h,_=h.prototype,m=i(a("2aeb")(_))==p,v="trim"in String.prototype,g=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var a,n,r,i=e.charCodeAt(0);if(43===i||45===i){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>r)return NaN;return parseInt(c,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(m?c((function(){_.valueOf.call(a)})):i(a)!=p)?s(new b(g(e)),a,h):g(e)};for(var y,O=a("9e1e")?l(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;O.length>k;k++)r(b,y=O[k])&&!r(h,y)&&d(h,y,u(b,y));h.prototype=_,_.constructor=h,a("2aba")(n,p,h)}},cf7e:function(t,e,a){"use strict";a("3821")},cf87:function(t,e,a){},d2e8:function(t,e,a){},d36c:function(t,e,a){},d4eb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAABcElEQVRYR+3YwUrDQBAG4JlS8e7BU1QqyaUN4iP4LCoo3n0J79aD4tW7D1DyBkUhCBqIggcfwYN0JGraWjbdTXbZGUpyTXbz5d/sZrIIwg8U7oMWaDtCbYKiEgzDvSAINj6SJPmyhZXtnQwxEWEvHAwB4AQBnne2NmNXSGvgDy4a3ADB4d9TUxe721n2+O4iRSugAgeAePWapWcucEUfjYFqHNzmL+kxIhIr0BeuUYI+cbWBvnG1gBw4YyAXzgjIidMCuXFLgRJwlcBfXH8EhAdzC+64g517VwvwrJ/JJ62t3+VP4zdV38ovSS/qX9AEzt1j1D0i4kOepfurAxQ/xEXUBXI3iq+J6GgaPbovBnSv0dJqRgJSW25xI7VA7uE2ApbIhdK+KHedF6iL76QxkAtZC8iBrA30jWwE9IlsDKxGCvntLGeb6B/3/8j4EohOxW19zK9bYjePdB98m/NWk8TmxqZtW6BpUlXXtQnaJvgN7kUqOhRI5j0AAAAASUVORK5CYII="},d666:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"HeadLable"},[t.goback?e("span",{staticClass:"goBack",on:{click:function(e){return t.goBack()}}},[e("img",{attrs:{src:a("d4eb"),alt:""}}),t._v(" 返回")]):t._e(),t.butList?t._e():e("span",[t._v(t._s(t.title))]),t.butList?e("div",[t._t("default")],2):t._e()])},r=[],i=(a("2397"),a("d225")),s=a("b0b4"),o=a("4e2b"),c=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3");function f(t){var e=p();return function(){var a,n=Object(l["a"])(t);if(e){var r=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c["a"])(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){Object(o["a"])(a,t);var e=f(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(s["a"])(a,[{key:"toggleClick",value:function(){this.$emit("toggleClick")}},{key:"goBack",value:function(){this.$router.go(-1)}}]),a}(d["c"]);Object(u["a"])([Object(d["b"])({default:!1})],h.prototype,"goback",void 0),Object(u["a"])([Object(d["b"])({default:!1})],h.prototype,"butList",void 0),Object(u["a"])([Object(d["b"])({default:"集团管理"})],h.prototype,"title",void 0),h=Object(u["a"])([Object(d["a"])({name:"Hamburger"})],h);var b=h,_=b,m=(a("1319"),a("2877")),v=Object(m["a"])(_,n,r,!1,null,"aca7790a",null);e["a"]=v.exports},d9cf:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return l}));a("f576"),a("a481"),a("3b2b"),a("6b54");function n(t,e){var a,n=new Date(e),r={"Y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString()};for(var i in r)a=new RegExp("("+i+")").exec(t),a&&(t=t.replace(a[1],1==a[1].length?r[i]:r[i].padStart(a[1].length,"0")));return t}var r=function(){var t=new Date((new Date).toLocaleDateString()).getTime(),e=t-864e5,a=e+864e5-1,r=n("YYYY-mm-dd",e),i=n("YYYY-mm-dd",a);return[r,i]},i=function(){var t=new Date((new Date).toLocaleDateString()).getTime(),e=t-864e5,a=n("YYYY.mm.dd",e),r=n("YYYY.mm.dd",t);return[a,r]},s=function(){var t=new Date((new Date).toLocaleDateString()).getTime(),e=t-6048e5,a=t-1,r=n("YYYY-mm-dd",e),i=n("YYYY-mm-dd",a);return[r,i]},o=function(){var t=new Date((new Date).toLocaleDateString()).getTime(),e=t-2592e6,a=t-1,r=n("YYYY-mm-dd",e),i=n("YYYY-mm-dd",a);return[r,i]},c=function(){var t=new Date((new Date).toLocaleDateString()).getTime(),e=(new Date).getDay(),a=t-24*(e-1)*60*60*1e3,r=t+24*(7-e)*60*60*1e3,i=n("YYYY-mm-dd",a),s=n("YYYY-mm-dd",r);return[i,s]},l=function(){var t=(new Date).getFullYear(),e=(new Date).getMonth(),a=new Date(t,e,1).getTime(),r=new Date(t,e+1,0).getTime()+864e5-1,i=n("YYYY-mm-dd",a),s=n("YYYY-mm-dd",r);return[i,s]}},dc42:function(t,e,a){"use strict";a("d2e8")},dc90:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAFJElEQVRYR+2WW2wUZRTH//+Zli0SFLSIEaoPpiG2dGaF7c52ZyUKD0YTbhq8AA/GCGrwAgTRxGsEoga1mKAmqDE+AIlECCQgARVjutvZbWV3tqUBihovaCBgkISWlt3vmOmF1GUvrcQEE+f1XL7f/M/5zneIK+TjFcKB/y6I4xyqUcjMVUAAxI0ArqfgDIjfAOnQtLJdoUBtM0k1ErWHrUhzwp2tFNYJpK7kAcTvJNf6NOPDQIAXSvoDpUvjtLVNzHZlt4rgTi8hwZMgdmnU9lOpn3WdJzOUcVCYJILbRWSeANX9vuikjgfC9f5kKZiiisRaUrcpxZ0QqfIACL42qqxuU6m/bGpx50DJ6xDUkOgitIfDlrGtGExBkGhr2y3IqIRAriX5rU+vuC8QmHKq1J8N2ltbpbwn424UYKnXL6JxdqTe2FMoPi9I0+HDY3mmJy6QW0nu9OnGglIqFDogGndfEZFXSZylrlnhgHE4n29ekGg89YYIngOYHjsaYdM0zw1XiXx+0bi7RUQeInHAtvwzhwXiOO7kLOQoyApNR6AhYB68HAgv1nE6r87w3PcQVOq6dk9DvfFFbs5LFIk6qTUCvEhyq22ZC3MDRESLt7dPCNXVnci1JZM/juuuLOsJV1V159pijrtcQRpJ7LMt/13DAHHT3qwgOcu2zK9zA5oSbiMFT4N4yg6a7w/ao4n0DFGym5S0bfnt3Lh0Oj3+bJc6SUJ0GVMZClWfHerzN0ViqSOT1PnuX0GcsYPmBJKZ3ITRFvdBycrWvjmhcZkH0wchsgciYzSiMWz5Vxbola9EZKZG/d6wVbejIEhzS7udzWaaAEQjIX+kUG/EnPQyBbXRs3sHK3CpB0Hgk7BlPlpovMfiqXeUYAWorYxYRmNhReLpBUrUZyS32ZZ5f7EmHQozMEWLQng+McddpSDrofGtSNB8thjIQiVqM8gtEctcVAxkoBz7IOLrU0bXngzXG+8VhU+4zyglGwi+a4fM5UVK03ZHNps9AOCbSMjf97bkrfWQniDYLJCGoT1TMG5gPpHa87ZlvFkQxEl2VGd6eo8SOG6H/JPzJXQcN5QhvhzaE83xticGewbkkohlfpQvtime2g7BfGja4kjQ2FwQxDNE4+4vIjJZ0zEt36sZddxNAlmS25gXe4ZwI5bfnwvS2dnpO3G66xSJMfRVVIX9U44XBWlKpDZCYRnBt+2QuSo3obcWSLcKhuqN3bm3w2lNRZAp/yMUqu3IjYtdvAhosS1/MNd+yWT1nn5R/A4i51kxujqXvFgzFrKJSFkskW4XkSkatMfCIWNTSZCB8gw8UtwZDhrzSco/ARiMicbdF0RkLckj4aAxNd+gzP/6Huy4WXovJAEZD2hrIiHj5X8K4i1JVOifoqLdbYfq9uXLVXAxiiXcWUrJXgBl0LjBrjdWkcyOBCjmpB4R8gMRGQVydcQy1xeKL7oqNiXSiyDycf/QYhM1faUdnNpSCqa19dBNPZkL6wRY7Plq5PqwZa4uFldyi4/G0w0C2Q6RG7xeEcFejfh8lF62f/r0muOeSiLCZPJYZXe2awayMk/IBQPw53Xi8QbL/LQUfEkQL4G32GTZtRqQFSK4ajBp3y4KOU3wmj75B76Ba70Z5eUv2dNqfioF4dmHBTKYqLX1SGVvpnuOgHMBCQgwEYDep1Q/UAcou0ZR21Ffb/wwHICL8CNxzvX1trVk8th1Pl/vn7W1tb2Xk2tEilzOQaVi/wcZ1ogvJeO/Yf8LOUhWQdfhhAAAAAAASUVORK5CYII="},de1a:function(t,e,a){"use strict";a.r(e);a("7f7f");var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{key:t.vueRest,staticClass:"addBrand-container"},[e("div",{key:t.restKey,staticClass:"container"},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,inline:!0,"label-width":"180px"}},[e("div",[e("el-form-item",{attrs:{label:"菜品名称:",prop:"name"}},[e("el-input",{attrs:{placeholder:"请填写菜品名称",maxlength:"20"},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),e("el-form-item",{attrs:{label:"菜品分类:",prop:"categoryId"}},[e("el-select",{attrs:{placeholder:"请选择菜品分类"},model:{value:t.ruleForm.categoryId,callback:function(e){t.$set(t.ruleForm,"categoryId",e)},expression:"ruleForm.categoryId"}},t._l(t.dishList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.id}})})),1)],1)],1),e("div",[e("el-form-item",{attrs:{label:"菜品价格:",prop:"price"}},[e("el-input",{attrs:{placeholder:"请设置菜品价格"},model:{value:t.ruleForm.price,callback:function(e){t.$set(t.ruleForm,"price",e)},expression:"ruleForm.price"}})],1)],1),e("el-form-item",{attrs:{label:"口味做法配置:"}},[e("el-form-item",[e("div",{staticClass:"flavorBox"},[0==t.dishFlavors.length?e("span",{staticClass:"addBut",on:{click:t.addFlavore}},[t._v("\n              + 添加口味")]):t._e(),0!=t.dishFlavors.length?e("div",{staticClass:"flavor"},[e("div",{staticClass:"title"},[e("span",[t._v("口味名（3个字内）")])]),e("div",{staticClass:"cont"},t._l(t.dishFlavors,(function(a,n){return e("div",{key:n,staticClass:"items"},[e("div",{staticClass:"itTit"},[e("SelectInput",{attrs:{"dish-flavors-data":t.leftDishFlavors,index:n,value:a.name},on:{select:t.selectHandle}})],1),e("div",{staticClass:"labItems",staticStyle:{display:"flex"}},[t._l(a.value,(function(a,r){return e("span",{key:r},[t._v(t._s(a)+"\n                      "),e("i",{on:{click:function(e){return t.delFlavorLabel(n,r)}}},[t._v("X")])])})),e("div",{staticClass:"inputBox",style:t.inputStyle})],2),e("span",{staticClass:"delFlavor delBut non",on:{click:function(e){return t.delFlavor(a.name)}}},[t._v("删除")])])})),0),this.leftDishFlavors.length&&this.dishFlavors.length<this.dishFlavorsData.length?e("div",{staticClass:"addBut",on:{click:t.addFlavore}},[t._v("\n                添加口味\n              ")]):t._e()]):t._e()])])],1),e("div",[e("el-form-item",{attrs:{label:"菜品图片:",prop:"image"}},[e("image-upload",{attrs:{"prop-image-url":t.imageUrl},on:{imageChange:t.imageChange}},[t._v("\n            图片大小不超过2M"),e("br"),t._v("仅能上传 PNG JPEG JPG类型图片"),e("br"),t._v("建议上传200*200或300*300尺寸的图片\n          ")])],1)],1),e("div",{staticClass:"address"},[e("el-form-item",{attrs:{label:"菜品描述:",prop:"region"}},[e("el-input",{attrs:{type:"textarea",rows:3,maxlength:"200",placeholder:"菜品描述，最长200字"},model:{value:t.ruleForm.description,callback:function(e){t.$set(t.ruleForm,"description",e)},expression:"ruleForm.description"}})],1)],1),e("div",{staticClass:"subBox address"},[e("el-button",{on:{click:function(){return t.$router.back()}}},[t._v("\n          取消\n        ")]),e("el-button",{class:{continue:"add"===t.actionType},attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("\n          保存\n        ")]),"add"==t.actionType?e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm","goAnd")}}},[t._v("\n          保存并继续添加\n        ")]):t._e()],1)],1)],1)])},r=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("2397"),a("bd86")),s=(a("96cf"),a("3b8d")),o=a("75fc"),c=(a("20d6"),a("c5f6"),a("d225")),l=a("b0b4"),u=a("4e2b"),d=a("308d"),f=a("6bb5"),p=a("9ab4"),h=a("60a3"),b=a("d666"),_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"selectInput"},[e("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请选择口味",clearable:"",readonly:""},on:{focus:function(e){return t.selectFlavor(!0)},blur:function(e){return t.outSelect(!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t.mak&&t.dishFlavorsData.length?e("div",{staticClass:"flavorSelect"},[t._l(t.dishFlavorsData,(function(a,n){return e("span",{key:n,staticClass:"items",on:{click:function(e){return t.checkOption(a,n)}}},[t._v(t._s(a.name))])})),t.dishFlavorsData==[]?e("span",{staticClass:"none"},[t._v("无数据")]):t._e()],2):t._e()],1)},m=[];function v(t){var e=g();return function(){var a,n=Object(f["a"])(t);if(e){var r=Object(f["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d["a"])(this,a)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var y=function(t){Object(u["a"])(a,t);var e=v(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.keyValue=NaN,t.mak=!1,t}return Object(l["a"])(a,[{key:"selectFlavor",value:function(t){this.mak=t}},{key:"outSelect",value:function(t){var e=this;setTimeout((function(){e.mak=t}),200)}},{key:"inputHandle",value:function(t){this.selectFlavor(!1)}},{key:"checkOption",value:function(t,e){this.$emit("select",t.name,this.index,e),this.keyValue=t.name}}]),a}(h["c"]);Object(p["a"])([Object(h["b"])({default:[]})],y.prototype,"selectFlavorsData",void 0),Object(p["a"])([Object(h["b"])({default:[]})],y.prototype,"dishFlavorsData",void 0),Object(p["a"])([Object(h["b"])({default:""})],y.prototype,"value",void 0),Object(p["a"])([Object(h["b"])({default:0})],y.prototype,"index",void 0),y=Object(p["a"])([Object(h["a"])({name:"selectInput"})],y);var O=y,k=O,j=(a("1683"),a("2877")),C=Object(j["a"])(k,_,m,!1,null,"07f990bc",null),x=C.exports,w=a("5aa9"),D=a("38b8"),S=a("5581");function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function T(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function R(t){var e=L();return function(){var a,n=Object(f["a"])(t);if(e){var r=Object(f["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(d["a"])(this,a)}}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var P=function(t){Object(u["a"])(a,t);var e=R(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.restKey=0,t.textarea="",t.value="",t.imageUrl="",t.actionType="",t.dishList=[],t.dishFlavorsData=[],t.dishFlavors=[],t.leftDishFlavors=[],t.vueRest="1",t.index=0,t.inputStyle={flex:1},t.headers={token:Object(S["b"])()},t.ruleForm={name:"",id:"",price:"",code:"",image:"",description:"",dishFlavors:[],status:!0,categoryId:""},t}return Object(l["a"])(a,[{key:"rules",get:function(){return{name:[{required:!0,validator:function(t,e,a){if(e){var n=/^([A-Za-z0-9\u4e00-\u9fa5]){2,20}$/;n.test(e)?a():a(new Error("菜品名称输入不符，请输入2-20个字符"))}else a(new Error("请输入菜品名称"))},trigger:"blur"}],categoryId:[{required:!0,message:"请选择菜品分类",trigger:"change"}],image:{required:!0,message:"菜品图片不能为空"},price:[{required:!0,validator:function(t,e,a){var n=/^([1-9]\d{0,5}|0)(\.\d{1,2})?$/;!n.test(e)||Number(e)<=0?a(new Error("菜品价格格式有误，请输入大于零且最多保留两位小数的金额")):a()},trigger:"blur"}],code:[{required:!0,message:"请填写商品码",trigger:"blur"}]}}},{key:"created",value:function(){this.getDishList(),this.getFlavorListHand(),this.actionType=this.$route.query.id?"edit":"add",this.$route.query.id&&this.init()}},{key:"mounted",value:function(){}},{key:"changeDishFlavors",value:function(){this.getLeftDishFlavors()}},{key:"getLeftDishFlavors",value:function(){var t=this,e=[];this.dishFlavorsData.map((function(a){-1===t.dishFlavors.findIndex((function(t){return a.name===t.name}))&&e.push(a)})),this.leftDishFlavors=e}},{key:"selectHandle",value:function(t,e,a){var n=Object(o["a"])(this.dishFlavors),r=this.dishFlavorsData.findIndex((function(e){return e.name===t}));n[e]=JSON.parse(JSON.stringify(this.dishFlavorsData[r])),this.dishFlavors=n}},{key:"init",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(D["h"])(this.$route.query.id).then((function(t){if(t&&t.data&&1===t.data.code){e.ruleForm=T({},t.data.data),e.ruleForm.price=String(t.data.data.price),e.ruleForm.status="1"==t.data.data.status,e.dishFlavors=t.data.data.flavors&&t.data.data.flavors.map((function(t){return T(T({},t),{},{value:JSON.parse(t.value)})}));e.getLeftDishFlavors(),e.imageUrl=t.data.data.image}else e.$message.error(t.data.msg)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addFlavore",value:function(){this.dishFlavors.push({name:"",value:[]})}},{key:"delFlavor",value:function(t){var e=this.dishFlavors.findIndex((function(e){return e.name===t}));this.dishFlavors.splice(e,1)}},{key:"delFlavorLabel",value:function(t,e){this.dishFlavors[t].value.splice(e,1)}},{key:"flavorPosition",value:function(t){this.index=t}},{key:"keyDownHandle",value:function(t){event&&(event.cancelBubble=!0,event.preventDefault(),event.stopPropagation()),""!=t.target.innerText.trim()&&(this.dishFlavors[this.index].flavorData.push(t.target.innerText),t.target.innerText="")}},{key:"getDishList",value:function(){var t=this;Object(D["f"])({type:1}).then((function(e){1===e.data.code?t.dishList=e&&e.data&&e.data.data:t.$message.error(e.data.msg)}))}},{key:"getFlavorListHand",value:function(){this.dishFlavorsData=[{name:"甜味",value:["无糖","少糖","半糖","多糖","全糖"]},{name:"温度",value:["热饮","常温","去冰","少冰","多冰"]},{name:"忌口",value:["不要葱","不要蒜","不要香菜","不要辣"]},{name:"辣度",value:["不辣","微辣","中辣","重辣"]}]}},{key:"submitForm",value:function(t,e){var a=this;this.$refs[t].validate((function(t){if(console.log(t,"valid"),!t)return!1;if(!a.ruleForm.image)return a.$message.error("菜品图片不能为空");var n=T({},a.ruleForm);n.status="add"===a.actionType?0:a.ruleForm.status?1:0,n.categoryId=a.ruleForm.categoryId,n.flavors=a.dishFlavors.map((function(t){return T(T({},t),{},{value:JSON.stringify(t.value)})})),delete n.dishFlavors,"add"==a.actionType?(delete n.id,Object(D["a"])(n).then((function(t){1===t.data.code?(a.$message.success("菜品添加成功！"),e?(a.dishFlavors=[],a.imageUrl="",a.ruleForm={name:"",id:"",price:"",code:"",image:"",description:"",dishFlavors:[],status:!0,categoryId:""},a.restKey++):a.$router.push({path:"/dish"})):a.$message.error(t.data.desc||t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)}))):(delete n.createTime,delete n.updateTime,Object(D["e"])(n).then((function(t){t&&t.data&&1===t.data.code?(a.$router.push({path:"/dish"}),a.$message.success("菜品修改成功！")):a.$message.error(t.data.desc||t.data.msg)})).catch((function(t){a.$message.error("请求出错了："+t.message)})))}))}},{key:"imageChange",value:function(t){this.ruleForm.image=t}}]),a}(h["c"]);Object(p["a"])([Object(h["d"])("dishFlavors")],P.prototype,"changeDishFlavors",null),P=Object(p["a"])([Object(h["a"])({name:"addShop",components:{HeadLable:b["a"],SelectInput:x,ImageUpload:w["a"]}})],P);var F=P,B=F,A=(a("09ba"),a("2723"),Object(j["a"])(B,n,r,!1,null,"7aa72c78",null));e["default"]=A.exports},de63:function(t,e,a){},e0b8:function(t,e,a){"use strict";var n=a("7726"),r=a("5ca1"),i=a("2aba"),s=a("dcbc"),o=a("67ab"),c=a("4a59"),l=a("f605"),u=a("d3f4"),d=a("79e5"),f=a("5cc5"),p=a("7f20"),h=a("5dbc");t.exports=function(t,e,a,b,_,m){var v=n[t],g=v,y=_?"set":"add",O=g&&g.prototype,k={},j=function(t){var e=O[t];i(O,t,"delete"==t||"has"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,a){return e.call(this,0===t?0:t,a),this})};if("function"==typeof g&&(m||O.forEach&&!d((function(){(new g).entries().next()})))){var C=new g,x=C[y](m?{}:-0,1)!=C,w=d((function(){C.has(1)})),D=f((function(t){new g(t)})),S=!m&&d((function(){var t=new g,e=5;while(e--)t[y](e,e);return!t.has(-0)}));D||(g=e((function(e,a){l(e,g,t);var n=h(new v,e,g);return void 0!=a&&c(a,_,n[y],n),n})),g.prototype=O,O.constructor=g),(w||S)&&(j("delete"),j("has"),_&&j("get")),(S||x)&&j(y),m&&O.clear&&delete O.clear}else g=b.getConstructor(e,t,_,y),s(g.prototype,a),o.NEED=!0;return p(g,t),k[t]=g,r(r.G+r.W+r.F*(g!=v),k),m||b.setStrong(g,t,_),g}},e0f9:function(t,e,a){"use strict";a("c3fc")},e10a:function(t,e,a){t.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},e10f:function(t,e,a){"use strict";a("3fba")},e28d:function(t,e,a){},f38f:function(t,e,a){"use strict";a("4f28")},f576:function(t,e,a){"use strict";var n=a("5ca1"),r=a("2e08"),i=a("a25f"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},fab1:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"empty-box"},[e("div",{staticClass:"img-box"},[t.isSearch?e("img",{attrs:{src:a("2235")}}):e("img",{attrs:{src:a("38b8f"),alt:""}}),e("p",[t._v(t._s(t.isSearch?"Sorry，木有找到您搜索的内容哦~":"这里空空如也~"))])])])},r=[],i=(a("2397"),a("b0b4")),s=a("d225"),o=a("4e2b"),c=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3");function f(t){var e=p();return function(){var a,n=Object(l["a"])(t);if(e){var r=Object(l["a"])(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c["a"])(this,a)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var h=function(t){Object(o["a"])(a,t);var e=f(a);function a(){return Object(s["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(d["c"]);Object(u["a"])([Object(d["b"])({default:!1})],h.prototype,"isSearch",void 0),h=Object(u["a"])([Object(d["a"])({name:"Empty"})],h);var b=h,_=b,m=(a("e0f9"),a("2877")),v=Object(m["a"])(_,n,r,!1,null,"680f2fd6",null);e["a"]=v.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=shopTable.397fd833.js.map